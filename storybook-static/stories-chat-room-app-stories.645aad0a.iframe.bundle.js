"use strict";(self.webpackChunk_jdboris_react_firebase_chat=self.webpackChunk_jdboris_react_firebase_chat||[]).push([[66],{"./src/stories/chat-room-app.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>chat_room_app_stories});var react=__webpack_require__("./node_modules/react/index.js"),index_esm=__webpack_require__("./node_modules/react-icons/hi/index.esm.js"),dist_esm_index_esm=(__webpack_require__("./node_modules/firebase/compat/analytics/dist/esm/index.esm.js"),__webpack_require__("./node_modules/firebase/compat/app/dist/esm/index.esm.js")),dist_index_esm=(__webpack_require__("./node_modules/firebase/compat/auth/dist/esm/index.esm.js"),__webpack_require__("./node_modules/firebase/compat/firestore/dist/esm/index.esm.js"),__webpack_require__("./node_modules/firebase/compat/functions/dist/esm/index.esm.js"),__webpack_require__("./node_modules/firebase/compat/storage/dist/esm/index.esm.js"),__webpack_require__("./node_modules/react-firebase-hooks/auth/dist/index.esm.js")),firestore_dist_index_esm=__webpack_require__("./node_modules/react-firebase-hooks/firestore/dist/index.esm.js"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),chat_room_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./src/css/chat-room.module.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(chat_room_module.Z,options);const css_chat_room_module=chat_room_module.Z&&chat_room_module.Z.locals?chat_room_module.Z.locals:void 0,idConverter={toFirestore:data=>data,fromFirestore:snap=>({id:snap.id,...snap.data()})},SUPPORTED_IMAGE_EXTENSIONS=["apng","avif","gif","jpg","jpeg","jfif","pjpeg","pjp","png","svg","webp","bmp","ico","cur"];function timeout(durationInMs,asyncFunction){return Promise.race([asyncFunction(),new Promise((function(resolve,reject){setTimeout((function(){resolve(`Promise timed out after ${durationInMs}ms.`)}),durationInMs)}))])}function setQueryParam(key,value){const url=new URL(window.location);null===value?url.searchParams.delete(key):url.searchParams.set(key,value);const queryString=url.searchParams.toString(),hash=window.location.hash;window.history.replaceState({},"",`${window.location.pathname}${queryString?"?"+queryString:""}${hash}`)}let isFlashingInTitle=!1,flashingTitleIntervalId=null;function isGiftedPremium(user){return Boolean(user.giftedPremiumStart&&user.giftedPremiumEnd&&new Date>=user.giftedPremiumStart.toDate()&&new Date<=user.giftedPremiumEnd.toDate())}function useDebounce(){let value=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const[debounce,setDebounce]=(0,react.useState)(value);return(0,react.useEffect)((()=>{if(debounce){const timeout=setTimeout(debounce[0],debounce[1]);return()=>clearTimeout(timeout)}}),[debounce]),(callback,delay)=>setDebounce([callback,delay])}var Close=__webpack_require__("./node_modules/@mui/icons-material/esm/Close.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function AlertDialog(props){return props.alerts.length>0&&(0,jsx_runtime.jsxs)("div",{className:css_chat_room_module.dialog+" "+css_chat_room_module["error-dialog"],children:[(0,jsx_runtime.jsxs)("header",{children:[(0,jsx_runtime.jsx)("span",{}),(0,jsx_runtime.jsx)(Close.Z,{onClick:()=>{props.requestClose()}})]}),(0,jsx_runtime.jsx)("main",{children:props.alerts.map(((alert,i)=>(0,jsx_runtime.jsx)("div",{className:css_chat_room_module.alert,children:alert},i)))}),(0,jsx_runtime.jsx)("footer",{})]})}AlertDialog.__docgenInfo={description:"",methods:[],displayName:"AlertDialog"};var VolumeOff=__webpack_require__("./node_modules/@mui/icons-material/esm/VolumeOff.js"),VolumeUp=__webpack_require__("./node_modules/@mui/icons-material/esm/VolumeUp.js"),ChatBubble=__webpack_require__("./node_modules/@mui/icons-material/esm/ChatBubble.js"),Gavel=__webpack_require__("./node_modules/@mui/icons-material/esm/Gavel.js"),Menu=__webpack_require__("./node_modules/@mui/icons-material/esm/Menu.js"),firebase_firestore_dist_esm_index_esm=__webpack_require__("./node_modules/firebase/firestore/dist/esm/index.esm.js");const errors={FirebaseError:{"auth/wrong-password":{code:"auth/wrong-password",message:"Invalid email/password."},"auth/user-not-found":{code:"auth/user-not-found",message:"Invalid email/password."},"auth/missing-email":{code:"auth/missing-email",message:"Please enter your email address."},"auth/too-many-requests":{code:"auth/too-many-requests",message:"Too many failed attempts. Try again later."}},CustomError:{}};class CustomError extends Error{constructor(message){let{...options}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{name:"",code:""};super(message),Object.assign(this,{message:message=errors[options.name]&&errors[options.name][options.code]?errors[options.name][options.code].message:message||"Something went wrong. Please try again.",...options})}}const fonts=[{name:"Arial",style:"Arial, Helvetica, sans-serif"},{name:"Comic",style:'"Comic Sans MS Custom", "Comic Sans MS", "Comic Sans", cursive'},{name:"Georgia",style:'Georgia, Times, "Times New Roman", serif'},{name:"Handwriting",style:'"Lucida Handwriting", Zapfino, Chalkduster, cursive'},{name:"Impact",style:'Impact, Haettenschweiler, "Franklin Gothic Bold", Charcoal, "Helvetica Inserat", "Bitstream Vera Sans Bold", "Arial Black", "sans serif"'},{name:"Palatino",style:'Palatino, "Palatino Linotype", "Palatino LT STD", "Book Antiqua", Georgia, serif'},{name:"Papyrus",style:"Papyrus, fantasy"},{name:"Times",style:'"Times New Roman", Times, serif'},{name:"Typewriter",style:'"Lucida Sans Typewriter", "Lucida Console", monaco, "Bitstream Vera Sans Mono", monospace'}],MARKUP_SYMBOLS={BOLD:"**",ITALICS:"*",UNDERLINE:"_"},MARKUP_CHARACTERS=new Set(Object.values(MARKUP_SYMBOLS).reduce(((a,b)=>a+b)));function toggleSelectionMarkup(element,symbol){const value=element.value,start=element.selectionStart,end=element.selectionEnd,frontMarkup=start===end?function getMarkupBefore(string,index){let firstHalf=string.substring(0,index);const markup=getMarkupAround(firstHalf,Math.max(firstHalf.length-1,0));return markup.end=index,markup.start=markup.end-markup.value.length,markup}(value,start):getMarkupAround(value,start),backMarkup=start===end?function getMarkupAfter(string,index){const markup=getMarkupAround(string.substring(index),0);return markup.start=index,markup.end=markup.start+markup.value.length,markup}(value,end):getMarkupAround(value,end),beforeMarkup=value.substring(0,frontMarkup.start),middleValue=value.substring(frontMarkup.end,backMarkup.start),afterMarkup=value.substring(backMarkup.end);return frontMarkup.value=toggleSymbolInMarkup(frontMarkup.value,symbol),backMarkup.value=reverse(toggleSymbolInMarkup(reverse(backMarkup.value),symbol)),{value:[beforeMarkup,frontMarkup.value,middleValue,backMarkup.value,afterMarkup].join(""),start:beforeMarkup.length+frontMarkup.value.length,end:beforeMarkup.length+frontMarkup.value.length+middleValue.length}}function reverse(s){return[...s].reverse().join("")}function toggleSymbolInMarkup(markup,symbol){let newMarkup=markup,leftovers="";for(let key in MARKUP_SYMBOLS){if(MARKUP_SYMBOLS[key]===symbol)break;newMarkup.includes(MARKUP_SYMBOLS[key])&&(leftovers+=MARKUP_SYMBOLS[key],newMarkup=newMarkup.replace(MARKUP_SYMBOLS[key],""))}return newMarkup.includes(symbol)?(newMarkup=newMarkup.replace(symbol,""),leftovers+newMarkup):leftovers+symbol+newMarkup}function getMarkupAround(string,index){let markup={start:index,end:index,value:""};for(let i=index-1;i>=0&&MARKUP_CHARACTERS.has(string[i]);i--)markup.start-=1,markup.value=string[i]+markup.value;for(let i=index;i<string.length&&MARKUP_CHARACTERS.has(string[i]);i++)markup.end+=1,markup.value+=string[i];return markup}var firebase_functions_dist_esm_index_esm=__webpack_require__("./node_modules/firebase/functions/dist/esm/index.esm.js"),uuid=__webpack_require__("./node_modules/uuid/index.js"),firebase_auth_dist_esm_index_esm=__webpack_require__("./node_modules/firebase/auth/dist/esm/index.esm.js");async function messages_sendMessage(user,data,messages){const db=(0,firebase_firestore_dist_esm_index_esm.ad)();if(!user.auth||!user)throw new CustomError("Must be logged in.");if(data.text.length>2e3)throw new CustomError("Message too long (2000 character limit).");if("messages"!==data.conversationId&&!user.auth.emailVerified)throw new CustomError("Verify your email to do that.");if(user.isBanned)throw new CustomError("Your account or IP is banned.");data.text=await async function filterWords(text){const db=(0,firebase_firestore_dist_esm_index_esm.ad)(),filteredWords=(await(0,firebase_firestore_dist_esm_index_esm.QT)((0,firebase_firestore_dist_esm_index_esm.JU)(db,"settings/filteredWords"))).data();return filteredWords?text.replace(new RegExp(filteredWords.regex,"gi"),"[redacted]"):text}(data.text),data.text=data.text.replace(/>(?!\s)/g,"\\$&");const idTokenResult=await(0,firebase_auth_dist_esm_index_esm.ag)(user),timestamp=(0,firebase_firestore_dist_esm_index_esm.Bt)(),{font,fontColor,fontSize,msgBgImg,msgBgColor,msgBgTransparency,nameColor,msgBgRepeat,msgBgPosition,msgBgImgTransparency}=user,contents={...data,font,fontSize,fontColor,backgroundImage:msgBgImg,bgColor:msgBgColor,nameColor,bgTransparency:msgBgTransparency,msgBgRepeat,msgBgPosition,msgBgImgTransparency,uid:user.uid,username:user.username,lowercaseUsername:user.username.toLowerCase(),photoUrl:user.auth.photoURL||"",createdAt:timestamp,premium:"premium"===idTokenResult.claims.stripeRole||isGiftedPremium(user),isModMessage:user.isModerator};if("messages"!=data.conversationId)await(0,firebase_firestore_dist_esm_index_esm.ET)((0,firebase_firestore_dist_esm_index_esm.hJ)(db,`conversations/${data.conversationId}/messages`),contents),await(0,firebase_firestore_dist_esm_index_esm.pl)((0,firebase_firestore_dist_esm_index_esm.JU)(db,`conversations/${data.conversationId}`),{lastMessageSentAt:timestamp,users:{[user.uid]:{lastReadAt:timestamp}}},{merge:!0});else{const id=(0,uuid.v4)(),BUFFER=10;console.log({[`list.${id}`]:{...contents,id},lastCreated:{...contents,id},...messages.length>25+BUFFER&&{...messages.slice(-(messages.length-(25+BUFFER))).reduce(((list,message)=>({...list,[`list.${message.id}`]:(0,firebase_firestore_dist_esm_index_esm.AK)()})),{}),lastDeleted:Object.fromEntries(messages.slice(-(messages.length-(25+BUFFER))).map((message=>[message.id,message])))}}),(0,firebase_firestore_dist_esm_index_esm.r7)((0,firebase_firestore_dist_esm_index_esm.JU)(db,"aggregateMessages/last25"),{[`list.${id}`]:{...contents,id},lastCreated:{...contents,id},...messages.length>25+BUFFER&&{...messages.slice(-(messages.length-(25+BUFFER))).reduce(((list,message)=>({...list,[`list.${message.id}`]:(0,firebase_firestore_dist_esm_index_esm.AK)()})),{}),lastDeleted:Object.fromEntries(messages.slice(-(messages.length-(25+BUFFER))).map((message=>[message.id,message])))}}),console.log(contents),(0,firebase_firestore_dist_esm_index_esm.pl)((0,firebase_firestore_dist_esm_index_esm.JU)(db,`messages/${id}`),contents)}return user.email&&await(0,firebase_firestore_dist_esm_index_esm.r7)((0,firebase_firestore_dist_esm_index_esm.JU)(firestore,`users/${user.uid}`),{messageCount:(0,firebase_firestore_dist_esm_index_esm.nP)(1)}),(0,firebase_functions_dist_esm_index_esm.V1)((0,firebase_functions_dist_esm_index_esm.$C)(),"validateUser")(),!0}__webpack_require__("./node_modules/firebase/compat/database/dist/esm/index.esm.js");var Search=__webpack_require__("./node_modules/@mui/icons-material/esm/Search.js"),react_paginate=__webpack_require__("./node_modules/react-paginate/dist/react-paginate.js"),react_paginate_default=__webpack_require__.n(react_paginate),pagination_controls_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./src/css/pagination-controls.module.css"),pagination_controls_module_options={};pagination_controls_module_options.styleTagTransform=styleTagTransform_default(),pagination_controls_module_options.setAttributes=setAttributesWithoutAttributes_default(),pagination_controls_module_options.insert=insertBySelector_default().bind(null,"head"),pagination_controls_module_options.domAPI=styleDomAPI_default(),pagination_controls_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(pagination_controls_module.Z,pagination_controls_module_options);const css_pagination_controls_module=pagination_controls_module.Z&&pagination_controls_module.Z.locals?pagination_controls_module.Z.locals:void 0;function BanlistDialog(props){const{setConfirmModal,setAlerts}=props,[searchUsername,setSearchUsername]=(0,react.useState)(""),[banUsername,setBanUsername]=(0,react.useState)(""),[errors,setErrors]=(0,react.useState)([]),query=props.open?usersRef.orderBy("lowercaseUsername").where("isBanned","==",!0).where("lowercaseUsername",">=",searchUsername).where("lowercaseUsername","<=",searchUsername+"").withConverter(idConverter):null,[bannedUsers]=(0,firestore_dist_index_esm.d4)(query),[page,setPage]=(0,react.useState)(1),start=10*(page-1),end=10*page;return props.open&&(0,jsx_runtime.jsxs)("div",{className:css_chat_room_module.dialog+" "+css_chat_room_module.moderators,children:[(0,jsx_runtime.jsxs)("header",{children:["Banlist",(0,jsx_runtime.jsx)(Close.Z,{onClick:()=>{setBanUsername(""),setErrors([]),props.requestClose()}})]}),(0,jsx_runtime.jsxs)("main",{children:[(0,jsx_runtime.jsxs)("label",{children:[(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"Username...",onInput:e=>{setSearchUsername(e.target.value.toLowerCase()),setPage(1)},value:searchUsername}),(0,jsx_runtime.jsx)("button",{className:css_chat_room_module["alt-button"],children:(0,jsx_runtime.jsx)(Search.Z,{})})]}),bannedUsers&&bannedUsers.slice(start,end).map(((user,i)=>(0,jsx_runtime.jsxs)("div",{children:[user.username," ",(0,jsx_runtime.jsx)("button",{className:css_chat_room_module.link,onClick:async()=>{setConfirmModal({message:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Unban user ",user.username,"? ",(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsxs)("small",{children:["This will also unban all accounts that have been accessed by any IP addresses associated with"," ",user.username,"."]})]}),Unban:async()=>{setConfirmModal(null);try{await timeout(5e3,(async()=>{const result=await unbanUser(user.username);setErrors([]),result.data.message&&setAlerts([result.data.message])}))}catch(error){setErrors([new CustomError(error.message,error)])}},Cancel:()=>{setConfirmModal(null)}})},children:"remove"})]},i))),(0,jsx_runtime.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await timeout(5e3,(async()=>{const result=await banUser(banUsername);setErrors([]),result.data.message&&setAlerts([result.data.message])}))}catch(error){setErrors([new CustomError(error.message,error)])}},children:[errors.map(((error,i)=>(0,jsx_runtime.jsx)("div",{className:css_chat_room_module.error,children:error.message},i))),(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"Username",onInput:e=>{setBanUsername(e.target.value)},value:banUsername})," ",(0,jsx_runtime.jsx)("button",{children:"Ban"})]})]}),(0,jsx_runtime.jsx)("footer",{className:css_pagination_controls_module["pagination-controls"],children:bannedUsers&&(0,jsx_runtime.jsx)(react_paginate_default(),{initialPage:page-1,forcePage:page-1,pageCount:Math.ceil(bannedUsers.length/10),pageRangeDisplayed:5,marginPagesDisplayed:2,onPageChange:item=>{setPage(item.selected+1)},nextLabel:">",previousLabel:"<",disabledClassName:css_pagination_controls_module.disabled,activeClassName:css_pagination_controls_module.selected})})]})}function DmsDialog(props){const{userId,onChange}=props,[searchUsername,setSearchUsername]=(0,react.useState)(""),[username,setUsername]=(0,react.useState)(""),[errors,setErrors]=(0,react.useState)([]),[page,setPage]=(0,react.useState)(1),[loading,setLoading]=(0,react.useState)(!1),start=10*(page-1),end=10*page,query=userId?conversationsRef.where("userIds","array-contains",userId).orderBy("lastMessageSentAt","desc").withConverter(idConverter):null,[conversationsData]=(0,firestore_dist_index_esm.d4)(query),conversations=(0,react.useMemo)((()=>conversationsData&&conversationsData.filter((conversation=>conversation.id.toLowerCase().includes(searchUsername)))),[searchUsername,conversationsData]);(0,react.useEffect)((()=>{onChange(conversations)}),[conversations,userId]);return props.open&&(0,jsx_runtime.jsxs)("div",{className:css_chat_room_module.dialog,children:[(0,jsx_runtime.jsxs)("header",{children:["Conversations",(0,jsx_runtime.jsx)(Close.Z,{onClick:()=>{setUsername(""),setErrors([]),props.requestClose()}})]}),(0,jsx_runtime.jsxs)("main",{children:[(0,jsx_runtime.jsxs)("label",{children:[(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"Username...",onInput:e=>{setSearchUsername(e.target.value.toLowerCase()),setPage(1)},value:searchUsername}),(0,jsx_runtime.jsx)("button",{className:css_chat_room_module["alt-button"],children:(0,jsx_runtime.jsx)(Search.Z,{})})]}),(0,jsx_runtime.jsx)("ul",{children:conversations&&conversations.slice(start,end).map(((conversation,i)=>{const lastReadAt=conversation.users[userId].lastReadAt;let isUnread=!1;return null!==lastReadAt&&(isUnread=conversation.lastMessageSentAt>lastReadAt),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:css_chat_room_module.link+" "+(isUnread?css_chat_room_module["unread-conversation"]:""),onClick:async()=>{await props.setConversationRef(firestore.collection("conversations").doc(conversation.id)),await props.setDmMessagesRef(firestore.collection("conversations").doc(conversation.id).collection("messages")),props.requestClose()},children:conversation.id.split(":").filter((e=>e!==props.username)).toString()})},i)}))}),(0,jsx_runtime.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),setLoading(!0),setErrors([]),timeout(5e3,(async()=>{if(!username)throw new CustomError("Enter a username.");const snapshot=await usersRef.where("lowercaseUsername","==",username.toLowerCase()).get();if(!snapshot.docs.length)throw new CustomError("User not found.");if(snapshot.docs[0].id===userId)throw new CustomError("Cannot chat with yourself.");const conversationId=((strings=[props.username,snapshot.docs[0].data().username]).sort(),strings.join(":"));var strings;await conversationsRef.doc(conversationId).set({lastMessageSentAt:0,userIds:[userId,snapshot.docs[0].id],users:{[userId]:{lastReadAt:dist_esm_index_esm.Z.firestore.FieldValue.serverTimestamp()},[snapshot.docs[0].id]:{lastReadAt:dist_esm_index_esm.Z.firestore.FieldValue.serverTimestamp()}}},{merge:!0}),await props.setConversationRef((0,firebase_firestore_dist_esm_index_esm.JU)(firestore,`conversations/${conversationId}`)),await props.setDmMessagesRef((0,firebase_firestore_dist_esm_index_esm.hJ)(firestore,`conversations/${conversationId}/messages`)),props.requestClose()})).then((()=>{setLoading(!1),props.requestClose()})).catch((error=>{setLoading(!1),"permission-denied"!==error.code?setErrors([new CustomError(error.message,error)]):setErrors([new CustomError("Verify your email to do that.")])}))},children:[errors.map(((error,i)=>(0,jsx_runtime.jsx)("div",{className:css_chat_room_module.error,children:error.message},i))),(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"Username",onInput:e=>{setUsername(e.target.value)},value:username})," ",(0,jsx_runtime.jsx)("button",{className:loading?css_chat_room_module.loading:"",children:"Start Conversation"})]})]}),(0,jsx_runtime.jsx)("footer",{className:css_pagination_controls_module["pagination-controls"],children:conversations&&(0,jsx_runtime.jsx)(react_paginate_default(),{initialPage:page-1,forcePage:page-1,pageCount:Math.ceil(conversations.length/10),pageRangeDisplayed:5,marginPagesDisplayed:2,onPageChange:item=>{setPage(item.selected+1)},nextLabel:">",previousLabel:"<",disabledClassName:css_pagination_controls_module.disabled,activeClassName:css_pagination_controls_module.selected})})]})}BanlistDialog.__docgenInfo={description:"",methods:[],displayName:"BanlistDialog"},DmsDialog.__docgenInfo={description:"",methods:[],displayName:"DmsDialog"};var lib=__webpack_require__("./node_modules/emoji-dictionary/lib/index.js"),lib_default=__webpack_require__.n(lib),emoji_selector_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./src/css/emoji-selector.module.css"),emoji_selector_module_options={};emoji_selector_module_options.styleTagTransform=styleTagTransform_default(),emoji_selector_module_options.setAttributes=setAttributesWithoutAttributes_default(),emoji_selector_module_options.insert=insertBySelector_default().bind(null,"head"),emoji_selector_module_options.domAPI=styleDomAPI_default(),emoji_selector_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(emoji_selector_module.Z,emoji_selector_module_options);const css_emoji_selector_module=emoji_selector_module.Z&&emoji_selector_module.Z.locals?emoji_selector_module.Z.locals:void 0;function EmojiSelector(props){const[searchValue,setSearchValue]=(0,react.useState)(""),freeNames=["slightly_smiling_face","neutral_face","slightly_frowning_face","smile","laughing","angry","rage","laughing","stuck_out_tongue_winking_eye","kssing_heart","open_mouth","cry","wink","sunglasses","upside_down_face","vomiting","sleeping","heart","broken_heart","blush","wave","v","shushing","unamused","roll_eyes","hamburger","stop_sign","star"],previewNames=["fire","100","thinking","ok_hand","peach","eggplant","ghost","alien","robot"],freeCodes=freeNames.map((name=>lib_default().getUnicode(name))),previewCodes=previewNames.map((name=>lib_default().getUnicode(name)));return(0,jsx_runtime.jsxs)("div",{className:css_emoji_selector_module["emoji-selector"],children:[(0,jsx_runtime.jsx)("input",{onInput:e=>{setSearchValue(e.target.value)},value:searchValue,autoFocus:!0,placeholder:"smile, angry, laughing, etc..."}),(0,jsx_runtime.jsx)("section",{children:(props.premium?lib_default().unicode:freeCodes).reduce(((accumulator,emojiChar,i)=>((""===searchValue||(props.premium?lib_default().names:freeNames)[i].includes(searchValue))&&accumulator.push((0,jsx_runtime.jsx)("span",{title:(props.premium?lib_default().names:freeNames)[i],onClick:()=>{if(props.isAnonymous)return props.setErrors([new CustomError("Create an account to do that.")]);props.onSelect(emojiChar)},children:emojiChar},"emoji-"+i)),accumulator)),[])}),!props.premium&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("section",{className:css_emoji_selector_module.preview,children:previewCodes.reduce(((accumulator,emojiChar,i)=>((""===searchValue||previewNames[i].includes(searchValue))&&accumulator.push((0,jsx_runtime.jsx)("span",{title:previewNames[i],onClick:()=>{props.setPremiumPromptOpen(!0)},children:emojiChar},"emoji-preview-"+i)),accumulator)),[])}),(0,jsx_runtime.jsxs)("footer",{children:["Want more emojis?"," ",(0,jsx_runtime.jsx)("button",{className:css_emoji_selector_module.link,onClick:()=>{props.setPremiumOpen(!0)},children:"Upgrade to Premium now!"})]})]})]})}function ErrorDialog(props){for(const error of props.errors)error.duration&&setTimeout((()=>{props.requestClose()}),error.duration);return props.errors.length>0&&(0,jsx_runtime.jsxs)("div",{className:css_chat_room_module.dialog+" "+css_chat_room_module["error-dialog"],children:[(0,jsx_runtime.jsxs)("header",{children:["Error:",(0,jsx_runtime.jsx)(Close.Z,{onClick:()=>{props.requestClose()}})]}),(0,jsx_runtime.jsx)("main",{children:props.errors.map(((error,i)=>(0,jsx_runtime.jsx)("div",{className:css_chat_room_module.error,children:error.message},i)))}),(0,jsx_runtime.jsx)("footer",{})]})}function uploadFile(file){return new Promise(((resolve,reject)=>{const uploadFileFunction=dist_esm_index_esm.Z.functions().httpsCallable("uploadFile"),reader=new FileReader;reader.addEventListener("load",(()=>{uploadFileFunction({base64FileString:reader.result,extension:file.name.split(".").pop()}).then((result=>{resolve(result.data.url)})).catch((error=>{reject(error)}))}),!1),reader.readAsDataURL(file)}))}function FileUploadOverlay(props){const[loading,setLoading]=(0,react.useState)(!1);return(props.isDraggedOn||loading)&&(0,jsx_runtime.jsx)("label",{className:css_chat_room_module["file-drag-overlay"]+" "+(loading?css_chat_room_module.loading:""),onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{e.preventDefault(),e.stopPropagation(),props.setIsDraggedOn(!1),loading||(setLoading(!0),timeout(2e4,(async()=>{const files=e.dataTransfer.files;if(!files.length)return;const file=files[0],url=await uploadFile(file);if(!url)throw new CustomError("Error uploading file.");props.messageInput.focus(),props.setMessageValue(props.messageValue+" "+url+" ")})).catch((error=>{props.setErrors([new CustomError(error.message,error)])})).finally((()=>{setLoading(!1),e.target.value=""})))},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),props.setIsDraggedOn(!1)},onDragEnd:e=>{e.preventDefault(),e.stopPropagation(),props.setIsDraggedOn(!1)},onClickCapture:e=>{e.preventDefault(),e.stopPropagation(),props.setIsDraggedOn(!1)},children:(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)("input",{type:"file",onBlur:e=>{e.target.files.length||props.setIsDraggedOn(!1)},onFocus:e=>{e.target.files.length||props.setIsDraggedOn(!1)}})})})}function FilteredWordsDialog(props){const[word,setWord]=(0,react.useState)(""),[errors,setErrors]=(0,react.useState)([]),query=props.open?settingsRef.doc("filteredWords"):null,[filteredWords]=(0,firestore_dist_index_esm.Xi)(query),[page,setPage]=(0,react.useState)(1),start=10*(page-1),end=10*page;return props.open&&(0,jsx_runtime.jsxs)("div",{className:css_chat_room_module.dialog+" "+css_chat_room_module["filtered-words"],children:[(0,jsx_runtime.jsxs)("header",{children:["Filtered words",(0,jsx_runtime.jsx)(Close.Z,{onClick:()=>{setWord(""),setErrors([]),props.requestClose()}})]}),(0,jsx_runtime.jsxs)("main",{children:[filteredWords&&filteredWords.list.slice(start,end).map(((word,i)=>(0,jsx_runtime.jsxs)("div",{children:[word," ",(0,jsx_runtime.jsx)("button",{className:css_chat_room_module.link,onClick:async e=>{e.preventDefault();const newWords=[...filteredWords.list];newWords.splice(newWords.indexOf(word),1),settingsRef.doc("filteredWords").update({list:dist_esm_index_esm.Z.firestore.FieldValue.arrayRemove(word),regex:newWords.length?new RegExp(newWords.map((s=>s.replace(/[()[\]{}*+?^$|#.,\\\s-]/g,"\\$&"))).sort(((a,b)=>b.length-a.length)).join("|"),"gi").source:null})},children:"remove"})]},i))),(0,jsx_runtime.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),word.length<4)return void setErrors([new CustomError("Word must be 4+ characters.")]);const list=filteredWords?filteredWords.list:[];settingsRef.doc("filteredWords").set({list:dist_esm_index_esm.Z.firestore.FieldValue.arrayUnion(word),regex:new RegExp([...new Set([...list,word])].map((s=>s.replace(/[()[\]{}*+?^$|#.,\\\s-]/g,"\\$&"))).sort(((a,b)=>b.length-a.length)).join("|"),"gi").source},{merge:!0}),setErrors([])},children:[errors.map(((error,i)=>(0,jsx_runtime.jsx)("div",{className:css_chat_room_module.error,children:error.message},i))),(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"word to filter",onInput:e=>{setWord(e.target.value)},value:word})," ",(0,jsx_runtime.jsx)("button",{children:"Add"})]})]}),(0,jsx_runtime.jsx)("footer",{className:css_pagination_controls_module["pagination-controls"],children:filteredWords&&(0,jsx_runtime.jsx)(react_paginate_default(),{pageCount:Math.ceil(filteredWords.length/10),pageRangeDisplayed:5,marginPagesDisplayed:2,onPageChange:item=>{setPage(item.selected+1)},nextLabel:">",previousLabel:"<",disabledClassName:css_pagination_controls_module.disabled,activeClassName:css_pagination_controls_module.selected})})]})}function LogInForm(props){const[username,setUsername]=(0,react.useState)(""),[email,setEmail]=(0,react.useState)(props.email?props.email:""),[password,setPassword]=(0,react.useState)(""),[isNewUser,setIsNewUser]=(0,react.useState)(!1),[forgotPassword,setForgotPassword]=(0,react.useState)(!1),[passwordResetLink,setPasswordResetLink]=(0,react.useState)(""),[errors,setErrors]=(0,react.useState)([]),[loading,setLoading]=(0,react.useState)(!1);if(props.open){const url=new URL(window.location);if(url.searchParams.get("chat-reset-password")&&!passwordResetLink){const link=decodeURIComponent(url.searchParams.get("chat-reset-password"));setPasswordResetLink(link),props.logout()}}return props.open?(0,jsx_runtime.jsxs)("form",{className:css_chat_room_module["login-form"]+" "+css_chat_room_module.dialog,onSubmit:e=>{e.preventDefault(),loading||(setLoading(!0),setErrors([]),timeout(1e4,(async()=>{if(passwordResetLink){if(password.length<8)throw new CustomError("Password must be 8+ characters.");const oldLink=new URL(passwordResetLink);let link=new URL("https://identitytoolkit.googleapis.com/v1/accounts:resetPassword");link.searchParams.set("key","AIzaSyB4dhrVHT9oeRUNf7wi-Zs6pnnq2xZ80YM");const response=await fetch(link,{method:"POST",body:JSON.stringify({oobCode:oldLink.searchParams.get("oobCode"),newPassword:password})});if(!response.ok)throw setQueryParam("chat-reset-password",null),setPasswordResetLink(""),new CustomError("Password reset request expired. Please initiate a new reset request.");const data=await response.json();return setEmail(data.email),props.setAlerts(["Password reset successful!"]),setQueryParam("chat-reset-password",null),setPasswordResetLink(""),void setLoading(!1)}if(forgotPassword){const sendPasswordResetEmail=dist_esm_index_esm.Z.app().functions().httpsCallable("sendPasswordResetEmail"),result=await sendPasswordResetEmail({email,returnUrl:window.location.href});if(result.data.error)throw new CustomError(result.data.error.message,result.data.error);return props.setAlerts([result.data.message]),void setLoading(!1)}if(!email)throw new CustomError("Please enter your email address.");if(!password)throw new CustomError("Please enter a password.");if(isNewUser){const signUp=dist_esm_index_esm.Z.app().functions().httpsCallable("signUp"),result=await signUp({email,password,username,returnUrl:window.location.href});if(result.data.error)throw new CustomError(result.data.error.message,result.data.error);props.setAlerts(["Signup complete! Check your inbox to complete your email verification."])}await auth.signInWithEmailAndPassword(email,password).catch((error=>{throw new CustomError(error.message,error)})).finally((()=>{setLoading(!1),setPassword("")})),props.requestClose()})).catch((error=>{setErrors([new CustomError(error.message,error)]),setLoading(!1)})))},children:[(0,jsx_runtime.jsxs)("header",{children:[isNewUser?"Signup":"Login",(0,jsx_runtime.jsx)(Close.Z,{onClick:()=>{setUsername(""),setEmail(""),setPassword(""),setIsNewUser(!1),setForgotPassword(!1),setPasswordResetLink(""),setErrors([]),setLoading(!1),props.requestClose()}})]}),(0,jsx_runtime.jsxs)("fieldset",{disabled:loading,children:[errors.map(((error,i)=>(0,jsx_runtime.jsx)("div",{className:css_chat_room_module.error,children:error.message},i))),loading&&(0,jsx_runtime.jsx)("div",{className:css_chat_room_module["loading-placeholder"]}),!passwordResetLink&&(0,jsx_runtime.jsx)("label",{className:isNewUser?css_chat_room_module["info-tooltip"]:"","data-text":"Email verification will be required.",children:(0,jsx_runtime.jsx)("input",{type:"email",name:"email",autoComplete:"email",value:email,onChange:e=>{setEmail(e.target.value)},placeholder:"Email"})}),!forgotPassword&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[isNewUser&&!passwordResetLink&&(0,jsx_runtime.jsx)("input",{id:"username",autoComplete:"username",type:"text",name:"username",value:username,onChange:e=>{setUsername(e.target.value)},placeholder:"Username"}),(0,jsx_runtime.jsx)("input",{id:"current-password",autoComplete:"current-password",type:"password",name:"password",value:password,onChange:e=>{setPassword(e.target.value)},placeholder:"Password"})]}),passwordResetLink?(0,jsx_runtime.jsx)("button",{children:"Complete Password Reset"}):forgotPassword?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("button",{children:"Reset Password"}),(0,jsx_runtime.jsx)("button",{className:css_chat_room_module.link,onClick:e=>{e.preventDefault(),loading||(setErrors([]),setForgotPassword(!1))},children:"Signup/login"})]}):isNewUser?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("button",{children:"Sign Up"}),(0,jsx_runtime.jsx)("button",{className:css_chat_room_module.link,onClick:e=>{e.preventDefault(),loading||(setIsNewUser(!1),setErrors([]))},children:"Existing user?"})]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("button",{children:"Sign In"}),(0,jsx_runtime.jsx)("button",{className:css_chat_room_module.link,onClick:e=>{e.preventDefault(),loading||(setIsNewUser(!0),setErrors([]))},children:"New user?"}),(0,jsx_runtime.jsx)("button",{className:css_chat_room_module.link,onClick:e=>{e.preventDefault(),loading||(setErrors([]),setForgotPassword(!0))},children:"Forgot your password?"})]}),!passwordResetLink&&!forgotPassword&&(0,jsx_runtime.jsx)("button",{className:css_chat_room_module["sign-in"],onClick:e=>{e.preventDefault(),loading||(setLoading(!0),setErrors([]),timeout(1e4,(async()=>{const signUp=dist_esm_index_esm.Z.app().functions().httpsCallable("signUp"),result=await signUp({anonymous:!0});if(result.data.error)throw new CustomError(result.data.error.message,result.data.error);await(0,firebase_auth_dist_esm_index_esm._p)(auth,result.data.token).catch((error=>{throw new CustomError("Something went wrong. Please try again.")})),dist_esm_index_esm.Z.app().functions().httpsCallable("validateUser")(),props.requestClose()})).catch((error=>{setErrors([new CustomError(error.message,error)])})).finally((()=>{setLoading(!1)})))},children:"Chat Anonymously"})]})]}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})}function MenuWithButton(props){const[isMenuOpen,setMenuOpen]=(0,react.useState)(!1),[keepOpen,setKeepOpen]=(0,react.useState)(!1);return(0,react.useEffect)((()=>{keepOpen?(setKeepOpen(!1),setMenuOpen(!0)):setMenuOpen(!1)}),[props.openKey]),(0,jsx_runtime.jsxs)("button",{className:css_chat_room_module["alt-button"],style:{position:"relative"},children:[(0,jsx_runtime.jsx)("span",{className:css_chat_room_module.pointer,onClickCapture:()=>{isMenuOpen||setKeepOpen(!0)},children:props.button}),isMenuOpen&&(0,jsx_runtime.jsxs)("div",{className:css_chat_room_module.menu,onClickCapture:e=>{props.keepOpen&&setKeepOpen(!0)},children:[props.items&&Object.keys(props.items).map(((key,i)=>(0,jsx_runtime.jsx)("div",{onClickCapture:()=>{props.items[key]()},children:key},i))),props.children]})]})}EmojiSelector.displayName="EmojiSelector",EmojiSelector.__docgenInfo={description:"",methods:[],displayName:"EmojiSelector"},ErrorDialog.__docgenInfo={description:"",methods:[],displayName:"ErrorDialog"},FileUploadOverlay.__docgenInfo={description:"",methods:[],displayName:"FileUploadOverlay"},FilteredWordsDialog.__docgenInfo={description:"",methods:[],displayName:"FilteredWordsDialog"},LogInForm.__docgenInfo={description:"",methods:[],displayName:"LogInForm"},MenuWithButton.displayName="MenuWithButton",MenuWithButton.__docgenInfo={description:"",methods:[],displayName:"MenuWithButton"};var CameraAlt=__webpack_require__("./node_modules/@mui/icons-material/esm/CameraAlt.js"),SentimentVerySatisfied=__webpack_require__("./node_modules/@mui/icons-material/esm/SentimentVerySatisfied.js"),TextFormat=__webpack_require__("./node_modules/@mui/icons-material/esm/TextFormat.js"),main=__webpack_require__("./node_modules/caret-pos/lib/esm2015/main.js");function hexToRgb(hex){var bigint=parseInt(hex.substring(1),16);return(bigint>>16&255)+","+(bigint>>8&255)+","+(255&bigint)}var react_select_esm=__webpack_require__("./node_modules/react-select/dist/react-select.esm.js"),user_select_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./src/components/user-select/user-select.module.css"),user_select_module_options={};user_select_module_options.styleTagTransform=styleTagTransform_default(),user_select_module_options.setAttributes=setAttributesWithoutAttributes_default(),user_select_module_options.insert=insertBySelector_default().bind(null,"head"),user_select_module_options.domAPI=styleDomAPI_default(),user_select_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(user_select_module.Z,user_select_module_options);const user_select_user_select_module=user_select_module.Z&&user_select_module.Z.locals?user_select_module.Z.locals:void 0;function UserSelect(_ref){let{users,style,value,onChange,onCancel}=_ref;const options=users.filter((user=>user.username)).map((user=>({label:user.username,value:user.username}))),selectStyles={container:(position,top,left,provided,state)=>({...provided,position:"absolute",...style,zIndex:1}),control:(provided,state)=>({...provided,minHeight:"1.1em",border:0,boxShadow:0,background:0,cursor:"pointer"}),input:_ref2=>{let{display,...provided}=_ref2;return{...provided,display:"none"}},valueContainer:(provided,state)=>({...provided,paddingRight:"0"}),menu:(_ref3,state)=>{let{width,...provided}=_ref3;return{...provided,width:"max-content",minWidth:"100%",boxShadow:0,background:"white",marginTop:0,border:"1px solid #dedede",borderRadius:"0px"}},option:(_ref4,_ref5)=>{let{background,...provided}=_ref4,{data,isDisabled,isFocused,isSelected}=_ref5;return{...provided,color:"#0084eb",cursor:"pointer",paddingTop:"5px",paddingBottom:"5px",whiteSpace:"nowrap",textDecoration:isFocused?"underline":""}}};return(0,jsx_runtime.jsx)(react_select_esm.ZP,{style,className:user_select_user_select_module.userSelect,options,components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null,IndicatorsContainer:()=>null},onKeyDown:e=>{"Tab"!==e.key&&"Enter"!==e.key||onCancel(" ")},onChange,styles:selectStyles,hideSelectedOptions:!1,maxMenuHeight:150,inputValue:value,placeholder:"",menuIsOpen:!0,controlShouldRenderValue:!1,menuPlacement:"top"})}UserSelect.displayName="UserSelect",UserSelect.__docgenInfo={description:"",methods:[],displayName:"UserSelect"};const MessageInputForm=react.forwardRef(((_ref,messageInput)=>{let{user:{font,fontSize,fontColor,msgBgImg,msgBgColor,nameColor,msgBgTransparency,msgBgRepeat,msgBgPosition,msgBgImgTransparency,stylesEnabled},...props}=_ref;const[loading,setLoading]=(0,react.useState)(!1),[caretX,setCaretX]=(0,react.useState)(0),[caretY,setCaretY]=(0,react.useState)(0),[mentionValue,setMentionValue]=(0,react.useState)(null);function checkForMention(input){const mentionName=function getMentionName(input){let start=arguments.length>1&&void 0!==arguments[1]?arguments[1]:input.selectionStart,end=arguments.length>2&&void 0!==arguments[2]?arguments[2]:input.selectionEnd;if(start!=end)return null;const value=input.value;let mentionName="";for(let i=start-1;i>=0;i--){const character=value.charAt(i);if(/\s/.test(character))return null;if("@"===character)return mentionName;mentionName=character+mentionName}return null}(input);if(null!==mentionName){const startPosition=(0,main.FK)(messageInput.current,{customPos:input.selectionStart-mentionName.length});setCaretX(startPosition.left),setCaretY(startPosition.top)}setMentionValue(mentionName)}const cappedFontSize=!props.premium&&fontSize>=15?15:fontSize;async function uploadFileWithHandlers(e,file){if(!loading&&file){setLoading(!0);try{await timeout(2e4,(async()=>{const url=await uploadFile(file);if(!url)throw new CustomError("Error uploading file.");props.setMessageValue(props.messageValue+" "+url+" ")}))}catch(error){props.setErrors([new CustomError(error.message,error)])}finally{setLoading(!1),e.target.form.message.focus()}}}return(0,jsx_runtime.jsxs)("form",{className:css_chat_room_module["message-form"],onSubmit:async e=>{try{await props.sendMessage(e)}catch(error){props.setErrors([new CustomError(error.message,error)])}},onFocus:e=>{props.userId||(e.preventDefault(),e.target.blur(),props.setLoginOpen(!0))},children:[(0,jsx_runtime.jsxs)("label",{className:loading?"":css_chat_room_module.pointer,children:[(0,jsx_runtime.jsx)("div",{className:loading?css_chat_room_module["loading-placeholder"]:"",children:(0,jsx_runtime.jsx)(CameraAlt.Z,{className:css_chat_room_module["camera-icon"]+" "})}),(0,jsx_runtime.jsx)("input",{type:"file",onChange:async e=>{await uploadFileWithHandlers(e,e.target.files[0]),e.target.value=""}})]}),(0,jsx_runtime.jsxs)("div",{className:css_chat_room_module["input-wrapper"],style:stylesEnabled&&props.premium?{backgroundColor:`rgba(${hexToRgb(msgBgColor)},${msgBgTransparency})`}:{backgroundColor:"white"},children:[(0,jsx_runtime.jsx)("div",{className:css_chat_room_module["message-background-image"],style:stylesEnabled&&props.premium?{backgroundImage:`url(${msgBgImg})`,backgroundRepeat:msgBgRepeat,backgroundPosition:msgBgPosition,opacity:msgBgImgTransparency}:{}}),(0,jsx_runtime.jsx)("textarea",{name:"message",disabled:loading,className:`${loading?css_chat_room_module.loading:""} ${props.messageErrorFlash?css_chat_room_module["error-flash"]:""}`,ref:messageInput,autoFocus:!0,value:props.messageValue,onChange:e=>{props.setMessageValue(e.target.value),checkForMention(e.target)},onClickCapture:e=>{checkForMention(e.target)},placeholder:"Type here to send a message",onPaste:async e=>{e.clipboardData.files.length&&await uploadFileWithHandlers(e,e.clipboardData.files[0])},onKeyUp:e=>{checkForMention(e.target)},onKeyDown:e=>{if(null!==mentionValue&&("ArrowDown"===e.key||"ArrowUp"===e.key||"Enter"===e.key||"Tab"===e.key||"Escape"===e.key))return messageInput.current.parentElement.querySelector(`.${user_select_user_select_module.userSelect}`).dispatchEvent(new KeyboardEvent(e.type,e.nativeEvent)),void e.preventDefault();if("b"!==e.key&&"B"!==e.key||!e.ctrlKey){if(("i"===e.key||"I"===e.key)&&e.ctrlKey){e.preventDefault(),e.stopPropagation();const result=props.toggleSelectionMarkup(MARKUP_SYMBOLS.ITALICS);props.setMessageValue(result.value),props.setSelection({start:result.start,end:result.end})}}else{e.preventDefault(),e.stopPropagation();const result=props.toggleSelectionMarkup(MARKUP_SYMBOLS.BOLD);props.setMessageValue(result.value),props.setSelection({start:result.start,end:result.end})}},onFocus:e=>{checkForMention(e.target)},onBlur:e=>{},onKeyPress:e=>{checkForMention(e.target),"Enter"!==e.key||e.shiftKey||(e.preventDefault(),e.target.form.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})))},style:stylesEnabled?{fontFamily:font.style,fontSize:cappedFontSize,color:fontColor}:{}}),null!==mentionValue&&props.onlineUsers&&(0,jsx_runtime.jsx)(UserSelect,{users:props.onlineUsers,style:{left:caretX,top:caretY,fontSize:cappedFontSize},value:mentionValue,onChange:item=>{props.setMessageValue(function replaceMentionAtCaret(input,newMention){let[start,end]=[input.selectionStart,input.selectionEnd];const value=input.value;for(;value[start-1]&&"@"!==value[start-1];)start--;for(;value[end]&&!/\s/.test(value[end]);)end++;return value.substr(0,start)+newMention+value.substr(end)}(messageInput.current,item.label)+" "),setMentionValue(null),messageInput.current.focus()},onCancel:function(){let suffix=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";props.setMessageValue(props.messageValue+suffix),setMentionValue(null),messageInput.current.focus()}})]}),(0,jsx_runtime.jsx)(SentimentVerySatisfied.Z,{className:css_chat_room_module.pointer+" "+(props.isEmojisOpen?css_chat_room_module.outlined:""),onClick:e=>{props.setEmojisOpen(!props.isEmojisOpen)}}),(0,jsx_runtime.jsx)(TextFormat.Z,{className:css_chat_room_module.pointer+" "+(props.isFormatOpen?css_chat_room_module.outlined:""),onClick:e=>{props.setFormatOpen(!props.isFormatOpen)}})]})}));MessageInputForm.__docgenInfo={description:"",methods:[],displayName:"MessageInputForm"};var Person=__webpack_require__("./node_modules/@mui/icons-material/esm/Person.js"),Block=__webpack_require__("./node_modules/@mui/icons-material/esm/Block.js"),react_markdown=__webpack_require__("./node_modules/react-markdown/src/react-markdown.js"),react_markdown_default=__webpack_require__.n(react_markdown),rehype_raw=__webpack_require__("./node_modules/rehype-raw/index.js"),remark_gfm=__webpack_require__("./node_modules/remark-gfm/index.js"),remark_gfm_default=__webpack_require__.n(remark_gfm),oembed=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./src/css/oembed.css"),oembed_options={};oembed_options.styleTagTransform=styleTagTransform_default(),oembed_options.setAttributes=setAttributesWithoutAttributes_default(),oembed_options.insert=insertBySelector_default().bind(null,"head"),oembed_options.domAPI=styleDomAPI_default(),oembed_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(oembed.Z,oembed_options);oembed.Z&&oembed.Z.locals&&oembed.Z.locals;const use_audio=url=>{const audio=(0,react.useMemo)((()=>new Audio(url)),[]),[playing,setPlaying]=(0,react.useState)(!1);return(0,react.useEffect)((()=>{playing?audio.play():audio.pause()}),[playing]),(0,react.useEffect)((()=>(audio.addEventListener("ended",(()=>setPlaying(!1))),()=>{audio.removeEventListener("ended",(()=>setPlaying(!1)))})),[]),[playing,()=>setPlaying(!playing),function restart(){audio.currentTime=0,audio.play()}]},pop_namespaceObject=__webpack_require__.p+"static/media/pop.959bcf65.wav";function Link(_ref){let{href,isEmbedDisabled}=_ref;const[children,setChildren]=(0,react.useState)(href),[providerName,setProviderName]=(0,react.useState)("");return(0,react.useEffect)((()=>{(async url=>{if(!isEmbedDisabled&&function isImageUrl(urlString){const url=new URL(urlString);return SUPPORTED_IMAGE_EXTENSIONS.includes(url.pathname.split(".").pop().toLocaleLowerCase())}(url)&&await async function getImageSize(url){return(await fetch(url,{method:"HEAD"})).headers.get("content-length")}(url).catch((()=>0))<=1e7){setProviderName("image"),setChildren((0,jsx_runtime.jsx)("a",{href:url,target:"_blank",rel:"nofollow noreferrer noopener",onMouseUp:e=>{e.stopPropagation()},style:{padding:"0px",display:"inline-flex",verticalAlign:"bottom"},children:(0,jsx_runtime.jsx)("img",{src:url,alt:"embedded"})}));const validateImageEmbedUrl=dist_esm_index_esm.Z.functions().httpsCallable("validateImageEmbedUrl");try{await validateImageEmbedUrl(url)}catch(e){setChildren((0,jsx_runtime.jsxs)("a",{href:url,target:"_blank",rel:"nofollow noreferrer noopener",onMouseUp:e=>{e.stopPropagation()},children:[(0,jsx_runtime.jsx)("img",{style:{display:"none"},src:"",alt:"Embed failed.",loading:"lazy"}),url]}))}}else{setChildren((0,jsx_runtime.jsx)("a",{href:url,target:"_blank",rel:"nofollow noreferrer noopener",onMouseUp:e=>{e.stopPropagation()},children:url}));const getEmbed=dist_esm_index_esm.Z.functions().httpsCallable("getEmbed"),result=await getEmbed({url});result.data.html&&(setProviderName(result.data.providerName),setChildren((0,jsx_runtime.jsx)("span",{dangerouslySetInnerHTML:{__html:result.data.html}})))}})(href)}),[href]),(0,jsx_runtime.jsx)("span",{onMouseUp:e=>{e.stopPropagation()},"data-provider":providerName||null,children})}function ChatMessage(props){let{text,uid,isModMessage,premium,photoUrl,createdAt,username,isNewUser,fontSize,fontColor,font,backgroundImage,nameColor,bgColor,bgTransparency,msgBgRepeat,msgBgPosition,msgBgImgTransparency,isHidden,isEmbedDisabled}=props.message;const messageContents=(0,react.useRef)(),date=new Date,createdAtDate=createdAt?createdAt.toDate():null,[expanded,setExpanded]=(0,react.useState)(!1),[isPopPlaying,togglePop,restartPop]=use_audio(pop_namespaceObject);fontSize=!premium&&fontSize>=15?15:fontSize;const{currentUser,setConfirmModal}=props,messageClass=currentUser&&uid===currentUser.uid?"sent":"received",stylesEnabled=!("stylesEnabled"in currentUser)||currentUser.stylesEnabled;let mouseDownSpot=null;const doesMentionCurrentUser=!!currentUser&&(new RegExp(`@${currentUser.username}\\b`,"g").test(text)||isModMessage&&new RegExp("@everyone\\b","g").test(text));return doesMentionCurrentUser&&(text=text.replace(new RegExp(`@${currentUser.username}\\b`,"g"),`<span class="${css_chat_room_module.mention}">@${currentUser.username}</span>`)),isModMessage&&(text=text.replace(new RegExp("@everyone\\b","g"),`<span class="${css_chat_room_module.mention}">@everyone</span>`)),(0,react.useEffect)((()=>{doesMentionCurrentUser&&(isPopPlaying||props.isPopMuted||(togglePop(),function flashInTitle(text){let interval=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;const originalTitle=top.document.title;if(!isFlashingInTitle&&!document.hasFocus()){isFlashingInTitle=!0;let on=!0;text=text.substring(0,50),top.document.title=text,flashingTitleIntervalId=setInterval((()=>{top.document.title=on?originalTitle:text,on=!on}),interval),window.addEventListener("focus",(()=>{clearInterval(flashingTitleIntervalId),flashingTitleIntervalId=null,top.document.title=originalTitle,isFlashingInTitle=!1}))}}(`${username}: ${function stripHtml(string){return(new DOMParser).parseFromString(string,"text/html").body.textContent||""}(text)}`)))}),[]),(0,jsx_runtime.jsxs)("div",{className:css_chat_room_module.message+" "+css_chat_room_module[messageClass]+" "+(doesMentionCurrentUser?css_chat_room_module.mention:""),onMouseDown:e=>{mouseDownSpot={x:e.pageX,y:e.pageY}},onMouseUp:e=>{if(0===e.button&&mouseDownSpot){let a=mouseDownSpot.x-e.pageX,b=mouseDownSpot.y-e.pageY;Math.sqrt(a*a+b*b)<=2&&(props.onClick(username),mouseDownSpot=null)}},style:{...stylesEnabled&&premium&&{backgroundColor:`rgba(${hexToRgb(bgColor)},${bgTransparency})`},...isHidden&&{display:"none"}},children:[(0,jsx_runtime.jsx)("div",{className:css_chat_room_module["mention-highlight"]}),(0,jsx_runtime.jsx)("div",{className:css_chat_room_module["message-background-image"],style:stylesEnabled&&premium?{backgroundImage:`url(${backgroundImage})`,backgroundRepeat:msgBgRepeat,backgroundPosition:msgBgPosition,opacity:msgBgImgTransparency}:{}}),photoUrl?(0,jsx_runtime.jsx)("img",{className:css_chat_room_module.avatar,src:photoUrl,alt:"profile"}):(0,jsx_runtime.jsx)(Person.Z,{className:css_chat_room_module.avatar}),isNewUser&&currentUser&&currentUser.isModerator&&(0,jsx_runtime.jsx)("small",{className:css_chat_room_module.badge,children:"New"}),(0,jsx_runtime.jsxs)("div",{className:expanded?css_chat_room_module.expanded:"",children:[(0,jsx_runtime.jsxs)("span",{ref:messageContents,className:css_chat_room_module["message-contents"],style:{...stylesEnabled?{fontSize:fontSize+"px",color:fontColor,fontFamily:font.style}:{},...expanded?{maxHeight:"initial"}:{maxHeight:"300px"}},children:[(0,jsx_runtime.jsxs)("span",{className:css_chat_room_module["message-username"],style:stylesEnabled?{color:nameColor}:{},children:[username,":"," "]}),(0,react.useMemo)((()=>(0,jsx_runtime.jsx)(react_markdown_default(),{components:{a:props=>"http://www"==props.href.trim()||"https://www"==props.href.trim()?(0,jsx_runtime.jsx)("span",{children:"www"}):!props.href.trim().slice(0,-1).includes(".")||isNewUser?(0,jsx_runtime.jsx)("span",{children:props.href}):(0,jsx_runtime.jsx)(Link,{shouldComponentUpdate:!1,...props,isEmbedDisabled}),span:_ref2=>{let{className,children}=_ref2;return className!=css_chat_room_module.mention?(0,jsx_runtime.jsx)("span",{children}):(0,jsx_runtime.jsx)("span",{className,children})}},plugins:[remark_gfm_default()],rehypePlugins:[rehype_raw.Z],allowedElements:["p","em","strong","u","a","span","code","pre","ol","ul","li","blockquote"],transformLinkUri:(href,children,title)=>{const url=new URL(href);return url.protocol="http:"===url.protocol?"https:":url.protocol,(0,react_markdown.uriTransformer)(url.href)},transformImageUri:(href,children,title)=>{const url=new URL(href);return url.protocol="http:"===url.protocol?"https:":url.protocol,(0,react_markdown.uriTransformer)(url.href)},children:text})),[text,isEmbedDisabled])]}),messageContents.current&&messageContents.current.offsetHeight>=300&&(0==expanded?(0,jsx_runtime.jsx)("div",{className:css_chat_room_module["show-more"]+" "+css_chat_room_module.link,onMouseUp:e=>{e.stopPropagation(),setExpanded(!0)},children:"Show more..."}):(0,jsx_runtime.jsx)("div",{className:css_chat_room_module["show-less"]+" "+css_chat_room_module.link,onMouseUp:e=>{e.stopPropagation(),setExpanded(!1)},children:"Show less..."}))]}),(0,jsx_runtime.jsxs)("span",{className:css_chat_room_module["message-details"],children:[(0,jsx_runtime.jsx)("span",{className:css_chat_room_module["message-timestamp"],children:createdAt&&createdAtDate.toLocaleString("en-US",createdAtDate.getMonth()!=date.getMonth()||createdAtDate.getDate()!=date.getDate()||createdAtDate.getYear()!=date.getYear()?{dateStyle:"medium",timeStyle:"short",hour12:!0}:{timeStyle:"short",hour12:!0})}),currentUser&&currentUser.isModerator&&(0,jsx_runtime.jsx)("button",{onClick:()=>{setConfirmModal({message:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Ban user ",username,"? ",(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsxs)("small",{children:["This will also ban all accounts that have been accessed by any IP addresses associated with ",username,"."]})]}),Ban:()=>{timeout(5e3,(async()=>{const result=await banUser(username);props.setAlerts([result.data.message])})).catch((error=>{props.setErrors([new CustomError(error.message,error)])})),setConfirmModal(null)},Cancel:()=>{setConfirmModal(null)}})},onMouseUp:e=>{e.stopPropagation()},children:(0,jsx_runtime.jsx)(Block.Z,{})}),currentUser&&currentUser.isModerator&&(0,jsx_runtime.jsx)("button",{onClick:()=>async function deleteMessage(message){(0,firebase_firestore_dist_esm_index_esm.r7)((0,firebase_firestore_dist_esm_index_esm.JU)((0,firebase_firestore_dist_esm_index_esm.ad)(),"aggregateMessages/last25"),{[`list.${message.id}`]:(0,firebase_firestore_dist_esm_index_esm.AK)(),lastDeleted:{[message.id]:message}}),(0,firebase_firestore_dist_esm_index_esm.r7)((0,firebase_firestore_dist_esm_index_esm.JU)((0,firebase_firestore_dist_esm_index_esm.ad)(),`messages/${message.id}`),{isDeleted:!0})}(props.message),onMouseUp:e=>{e.stopPropagation()},children:"X"})]})]})}function MessageList(_ref){let{setErrors,setAlerts,messagesRef,defaultMessages,onMessageClick,currentUser,sentMsgCount,isPopMuted,setConfirmModal,messageCount=25}=_ref;const messageList=(0,react.useRef)(),[messages,setMessages]=(0,react.useState)([]),[paused,setPaused]=(0,react.useState)(!1),[stickToBottom,setStickToBottom]=(0,react.useState)(!0);function snapToBottom(){messageList.current.scrollTop=10}return(0,react.useEffect)((()=>{if(!paused){const hiddenMessageCount=defaultMessages.reduce(((total,message)=>total+(message.isHidden?1:0)),0);setMessages(defaultMessages.slice(0,messageCount+hiddenMessageCount)||[]),Math.abs(messageList.current.scrollTop)<100?(snapToBottom(),setStickToBottom(!0)):setStickToBottom(!1)}}),[defaultMessages,paused]),(0,react.useEffect)((()=>{messageList.current.scrollTop=10,setStickToBottom(!0)}),[sentMsgCount]),(0,react.useEffect)((()=>{setPaused(!1)}),[messagesRef]),(0,jsx_runtime.jsx)("section",{ref:messageList,className:css_chat_room_module["messages-section"]+" "+(stickToBottom?css_chat_room_module["stick-to-bottom"]:""),children:(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{className:css_chat_room_module["pagination-controls"],children:messages.length>=messageCount&&(0,jsx_runtime.jsx)("button",{onClick:async()=>{setPaused(!0);const query=messagesRef.where("isDeleted","==",!1).orderBy("createdAt","desc").startAfter(messages[messages.length-1].createdAt).limit(messageCount),newMessages=(await query.get()).docs.map((doc=>({id:doc.id,...doc.data()})));snapToBottom(),setMessages(newMessages.slice(-messageCount))},children:"Older"})}),messages&&[...messages].reverse().map((msg=>(0,jsx_runtime.jsx)(ChatMessage,{setErrors,setAlerts,message:msg,onClick:onMessageClick,currentUser,messagesRef,isPopMuted,setConfirmModal},`message-${msg.id}`))),(0,jsx_runtime.jsx)("div",{className:css_chat_room_module["pagination-controls"],children:messages.length&&defaultMessages&&defaultMessages.length&&messages[0].id!==defaultMessages[0].id&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("button",{onClick:async()=>{setPaused(!0);const query=messagesRef.where("isDeleted","==",!1).orderBy("createdAt","asc").startAfter(messages[0].createdAt).limit(messageCount),newMessages=(await query.get()).docs.map((doc=>({id:doc.id,...doc.data()}))).reverse();!function snapToTop(){messageList.current.scrollTop=-9999}(),newMessages.length&&defaultMessages&&newMessages[0].id===defaultMessages[0].id?setPaused(!1):newMessages.length&&setMessages(newMessages.slice(-messageCount))},children:"Newer"}),(0,jsx_runtime.jsx)("button",{onClick:()=>{setPaused(!1)},children:"Jump to present"})]})})]})})}function ModActionLogDialog(props){const query=props.open?modActionLogRef.orderBy("date","desc").withConverter(idConverter):null,[modActions]=(0,firestore_dist_index_esm.d4)(query),[page,setPage]=(0,react.useState)(1),start=5*(page-1),end=5*page;return props.open&&(0,jsx_runtime.jsxs)("div",{className:css_chat_room_module.dialog+" "+css_chat_room_module["mod-action-log"],children:[(0,jsx_runtime.jsxs)("header",{children:["Mod Action Log",(0,jsx_runtime.jsx)(Close.Z,{onClick:()=>{props.requestClose()}})]}),(0,jsx_runtime.jsx)("main",{children:modActions&&(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:modActions.slice(start,end).map(((action,i)=>(0,jsx_runtime.jsxs)("div",{children:[action.action,(0,jsx_runtime.jsx)("small",{children:action.date.toDate().toLocaleString()})]},i)))})}),(0,jsx_runtime.jsx)("footer",{className:css_pagination_controls_module["pagination-controls"],children:modActions&&(0,jsx_runtime.jsx)(react_paginate_default(),{pageCount:Math.ceil(modActions.length/5),pageRangeDisplayed:5,marginPagesDisplayed:2,onPageChange:item=>{setPage(item.selected+1)},nextLabel:">",previousLabel:"<",disabledClassName:css_pagination_controls_module.disabled,activeClassName:css_pagination_controls_module.selected})})]})}function ModeratorsDialog(props){const[username,setUsername]=(0,react.useState)(""),[errors,setErrors]=(0,react.useState)([]),addModerator=dist_esm_index_esm.Z.functions().httpsCallable("addModerator"),removeModerator=dist_esm_index_esm.Z.functions().httpsCallable("removeModerator");let query=props.open?usersRef.orderBy("lowercaseUsername").where("isModerator","==",!0).withConverter(idConverter):null;const[mods]=(0,firestore_dist_index_esm.d4)(query),[page,setPage]=(0,react.useState)(1),start=10*(page-1),end=10*page;return props.open&&(0,jsx_runtime.jsxs)("div",{className:css_chat_room_module.dialog+" "+css_chat_room_module.moderators,children:[(0,jsx_runtime.jsxs)("header",{children:["Moderators",(0,jsx_runtime.jsx)(Close.Z,{onClick:()=>{setUsername(""),setErrors([]),props.requestClose()}})]}),(0,jsx_runtime.jsxs)("main",{children:[mods&&mods.slice(start,end).map(((mod,i)=>(0,jsx_runtime.jsxs)("div",{children:[mod.username," ",(0,jsx_runtime.jsx)("button",{className:css_chat_room_module.link,onClick:async()=>{const result=await removeModerator(mod.username);result.error?setErrors([new CustomError(result.error.message,result.error)]):setErrors([])},children:"remove"})]},i))),(0,jsx_runtime.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const result=await addModerator(username);result.data.error?setErrors([new CustomError(result.data.error.message,result.data.error)]):setErrors([])},children:[errors.map(((error,i)=>(0,jsx_runtime.jsx)("div",{className:css_chat_room_module.error,children:error.message},i))),(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"Username",onInput:e=>{setUsername(e.target.value)},value:username})," ",(0,jsx_runtime.jsx)("button",{children:"Add"})]}),(0,jsx_runtime.jsx)("footer",{className:css_pagination_controls_module["pagination-controls"],children:mods&&(0,jsx_runtime.jsx)(react_paginate_default(),{pageCount:Math.ceil(mods.length/10),pageRangeDisplayed:5,marginPagesDisplayed:2,onPageChange:item=>{setPage(item.selected+1)},nextLabel:">",previousLabel:"<",disabledClassName:css_pagination_controls_module.disabled,activeClassName:css_pagination_controls_module.selected})})]})]})}function OnlineUsersDialog(_ref){let{open,requestClose,onlineUsers}=_ref;const[page,setPage]=(0,react.useState)(1),start=15*(page-1),end=15*page,namedUsers=(0,react.useMemo)((()=>open&&onlineUsers.reduce(((total,user)=>{const copy=[...total];return user.username&&copy.push(user),copy}),[])),[open,onlineUsers]),unknownUserCount=open&&onlineUsers.length-namedUsers.length;return open&&(0,jsx_runtime.jsxs)("div",{className:css_chat_room_module.dialog,children:[(0,jsx_runtime.jsxs)("header",{children:["People here now",(0,jsx_runtime.jsx)(Close.Z,{onClick:requestClose})]}),(0,jsx_runtime.jsxs)("main",{children:[(0,jsx_runtime.jsx)("ul",{children:namedUsers&&namedUsers.slice(start,end).map(((user,i)=>user.username&&(0,jsx_runtime.jsx)("li",{children:user.username},`online-${user.username}`)))}),unknownUserCount>0&&`${unknownUserCount} unknown user(s)`]}),(0,jsx_runtime.jsx)("footer",{className:css_pagination_controls_module["pagination-controls"],children:namedUsers&&namedUsers.length>15&&(0,jsx_runtime.jsx)(react_paginate_default(),{initialPage:page-1,pageCount:Math.ceil(namedUsers.length/15),pageRangeDisplayed:5,marginPagesDisplayed:2,onPageChange:item=>{setPage(item.selected+1)},nextLabel:">",previousLabel:"<",disabledClassName:css_pagination_controls_module.disabled,activeClassName:css_pagination_controls_module.selected})})]})}Link.displayName="Link",ChatMessage.displayName="ChatMessage",ChatMessage.__docgenInfo={description:"",methods:[],displayName:"ChatMessage"},MessageList.displayName="MessageList",MessageList.__docgenInfo={description:"",methods:[],displayName:"MessageList",props:{messageCount:{defaultValue:{value:"25",computed:!1},required:!1}}},ModActionLogDialog.__docgenInfo={description:"",methods:[],displayName:"ModActionLogDialog"},ModeratorsDialog.__docgenInfo={description:"",methods:[],displayName:"ModeratorsDialog"},OnlineUsersDialog.__docgenInfo={description:"",methods:[],displayName:"OnlineUsersDialog"};var DoDisturb=__webpack_require__("./node_modules/@mui/icons-material/esm/DoDisturb.js"),Add=__webpack_require__("./node_modules/@mui/icons-material/esm/Add.js"),stripe_esm=__webpack_require__("./node_modules/@stripe/stripe-js/dist/stripe.esm.js");function PremiumDialog(props){const{isAnonymous,user}=props,[period,setPeriod]=(0,react.useState)(3),[isGifting,setIsGifting]=(0,react.useState)(!1),[recipients,setRecipients]=(0,react.useState)([""]),[errors,setErrors]=(0,react.useState)([]),[loading,setLoading]=(0,react.useState)(!1),query=firestore.collection("users").doc(user.uid).collection("subscriptions").where("status","==","active").where("role","==","premium"),[normalSubscriptions]=(0,firestore_dist_index_esm.d4)(query),subscriptions=[...normalSubscriptions||[],...user.giftedPremiumEnd&&user.giftedPremiumEnd.toDate()>new Date?[{current_period_start:user.giftedPremiumStart,current_period_end:user.giftedPremiumEnd}]:[]];return props.open&&(0,jsx_runtime.jsxs)("div",{className:css_chat_room_module.dialog+" "+css_chat_room_module["premium-dialog"],children:[(0,jsx_runtime.jsxs)("header",{children:["Premium",(0,jsx_runtime.jsx)(Close.Z,{onClick:()=>{setIsGifting(!1),props.requestClose()}})]}),(0,jsx_runtime.jsx)("main",{children:subscriptions&&subscriptions.length&&!isGifting?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[subscriptions.map(((subscription,i)=>{const expiration=subscription.current_period_end.toDate(),formatter=new Intl.DateTimeFormat(void 0,{timeStyle:"short",dateStyle:"medium"});return(0,jsx_runtime.jsxs)("span",{children:["Your subscription expires ",formatter.format(expiration)]},i)})),(0,jsx_runtime.jsxs)("div",{children:[normalSubscriptions.length>0&&(0,jsx_runtime.jsx)("button",{className:loading?css_chat_room_module.loading:"",onClick:e=>{e.preventDefault(),loading||(setLoading(!0),timeout(5e3,(()=>async function sendToCustomerPortal(){const functionRef=dist_esm_index_esm.Z.functions().httpsCallable("ext-firestore-stripe-subscriptions-createPortalLink"),{data}=await functionRef({returnUrl:window.location.origin});window.location.assign(data.url)}().then((()=>{setTimeout((()=>{setLoading(!1)}),2e3)})))))},children:"Manage Subscription"}),(0,jsx_runtime.jsx)("button",{className:loading?css_chat_room_module.loading:"",onClick:e=>{e.preventDefault(),setIsGifting(!0)},children:"Gift to Friends"})]})]}):isAnonymous?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"Must create an account to upgrade to Premium."}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[isGifting?(0,jsx_runtime.jsxs)("p",{children:["Gift a period of Premium to your friend(s). ",(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("small",{children:"This will extend their current subscription (if applicable)."})]}):(0,jsx_runtime.jsx)("p",{children:"Upgrade to a Premium account for perks like more emojis, more message style options, and more..."}),(0,jsx_runtime.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),!loading)try{const recipientUids=[],errors=[];if(isGifting)for(let i=0;i<recipients.length;i++){if(recipients.filter((name=>name==recipients[i])).length>1){errors.push(new CustomError("Duplicate user.",{field:i}));break}const snapshot=await firestore.collection("users").where("lowercaseUsername","==",recipients[i].toLowerCase()).get();snapshot.docs.length?snapshot.docs[0].id===user.uid?errors.push(new CustomError("May not gift to yourself.",{field:i})):"anonSuffix"in snapshot.docs[0].data()?errors.push(new CustomError("May not gift to anons.",{field:i})):recipientUids.push(snapshot.docs[0].id):errors.push(new CustomError("User not found.",{field:i}))}if(errors.length)throw errors;setLoading(!0),await timeout(3e5,(async()=>{await function sendToStripe(uid,priceId){let shouldLogout=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],metadata=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise(((resolve,reject)=>{const returnUrl=new URL(window.location);shouldLogout&&returnUrl.searchParams.set("chat-logout","1"),firestore.collection("users").doc(uid).collection("checkout_sessions").add({price:priceId,success_url:returnUrl.href,cancel_url:window.location.href,allow_promotion_codes:!0,mode:metadata&&metadata.recipients&&metadata.recipients.length?"payment":"subscription",...metadata?{metadata:{userId:uid,...Object.fromEntries(Object.entries(metadata).map((_ref=>{let[key,value]=_ref;return[key,JSON.stringify(value)]})))},quantity:metadata.recipients?metadata.recipients.length:1}:{}}).then((docRef=>{docRef.onSnapshot((async snap=>{const{error,sessionId}=snap.data();if(error&&(console.error(`An error occurred: ${error.message}`),reject()),sessionId){console.log("Redirecting...");const stripe=await(0,stripe_esm.J)("pk_live_51JXmQzAknxYOkdXtsqc2wu0rOBZGx6oB3sKa5SKZLc2B2ATVQrpzPIpUl7PkyJqjLygyFtX5vgnBEA2dvtI4xn8m00DGBcifrW");await stripe.redirectToCheckout({sessionId}),resolve()}}))}))}))}(user.uid,e.target.period.value,!isGifting,isGifting?{recipients:recipientUids}:null)}))}catch(e){setErrors(Array.isArray(e)?e:[e])}finally{setLoading(!1)}},children:(0,jsx_runtime.jsxs)("fieldset",{disabled:loading,children:[(0,jsx_runtime.jsxs)("label",{children:[(0,jsx_runtime.jsx)("input",{type:"radio",name:"period",value:isGifting?"price_1KW1Z0AknxYOkdXt6Wfjfnf4":"price_1JYOR4AknxYOkdXtABxRsfSe",onChange:()=>setPeriod(3),defaultChecked:!0})," ","3 Months - $2/month"]}),(0,jsx_runtime.jsxs)("label",{children:[(0,jsx_runtime.jsx)("input",{type:"radio",name:"period",value:isGifting?"price_1KW1Z0AknxYOkdXtVp1iIgAm":"price_1JYOR4AknxYOkdXt5t43to85",onChange:()=>setPeriod(6)})," ","6 Months - $1.5/month"]}),(0,jsx_runtime.jsxs)("label",{children:[(0,jsx_runtime.jsx)("input",{type:"radio",name:"period",value:isGifting?"price_1KW1Z0AknxYOkdXtSEzlWA38":"price_1JYOR4AknxYOkdXtK8A9QqWk",onChange:()=>setPeriod(12)})," ","12 Months - $1/month"]}),isGifting?(0,jsx_runtime.jsxs)("section",{children:["Recipient(s)",(0,jsx_runtime.jsx)("span",{className:css_chat_room_module.errors,children:errors.filter((error=>!("field"in error))).map((error=>(0,jsx_runtime.jsx)("span",{children:error.message})))}),(0,jsx_runtime.jsxs)("ul",{children:[recipients.map(((recipient,i)=>(0,jsx_runtime.jsxs)("li",{children:[errors.filter((error=>error.field===i)).map((error=>(0,jsx_runtime.jsx)("span",{className:css_chat_room_module.error,children:error.message}))),(0,jsx_runtime.jsxs)("label",{children:[i>0&&(0,jsx_runtime.jsx)(DoDisturb.Z,{className:css_chat_room_module.pointer,onClick:()=>{setErrors([]),setRecipients((oldRecipients=>(oldRecipients.splice(i,1),[...oldRecipients])))}}),(0,jsx_runtime.jsx)("input",{autoFocus:i===recipients.length-1,className:errors.find((error=>error.field===i))?css_chat_room_module["error-highlight"]:"",type:"text",placeholder:"username",value:recipient,onChange:e=>{setErrors([]),setRecipients((oldRecipients=>(oldRecipients[i]=e.target.value,oldRecipients[i]||oldRecipients.splice(i,1),[...oldRecipients])))},onKeyPress:e=>{if("Enter"===e.key){if(e.preventDefault(),loading)return;setRecipients((oldRecipients=>(oldRecipients.push(""),[...oldRecipients])))}}})]})]},i))),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsxs)("span",{className:loading?"":css_chat_room_module.pointer,onClick:()=>{loading||setRecipients((oldRecipients=>(oldRecipients.push(""),[...oldRecipients])))},children:[(0,jsx_runtime.jsx)(Add.Z,{})," add recipient..."]})})]})]}):(0,jsx_runtime.jsxs)("p",{children:["Billed every ",period," months. Cancel any time."]}),(0,jsx_runtime.jsxs)("span",{children:[(0,jsx_runtime.jsx)("button",{children:isGifting?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"Purchase"}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"Subscribe"})}),(0,jsx_runtime.jsx)("button",{className:loading?css_chat_room_module.loading:"",onClick:e=>{e.preventDefault(),setIsGifting(!isGifting)},children:isGifting?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"My Subscription"}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"Gift to Friends"})})]})]})})]})}),(0,jsx_runtime.jsx)("footer",{})]})}PremiumDialog.__docgenInfo={description:"",methods:[],displayName:"PremiumDialog"};var Create=__webpack_require__("./node_modules/@mui/icons-material/esm/Create.js");function ProfileDialog(props){const{open,requestClose,setErrors,setAlerts,photoUrl,setPhotoUrl,isVerified}=props,[loadingImg,setLoadingImg]=(0,react.useState)(!1),[loadingEmail,setLoadingEmail]=(0,react.useState)(!1);return open&&(0,jsx_runtime.jsxs)("div",{className:css_chat_room_module.dialog+" "+css_chat_room_module["profile-editor"],children:[(0,jsx_runtime.jsxs)("header",{children:["Edit profile",(0,jsx_runtime.jsx)(Close.Z,{onClick:()=>{requestClose()}})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("label",{className:loadingImg?css_chat_room_module.loading:"",children:[photoUrl?(0,jsx_runtime.jsx)("img",{className:css_chat_room_module.avatar,src:photoUrl,alt:"profile"}):(0,jsx_runtime.jsx)(Person.Z,{className:css_chat_room_module.avatar}),!loadingImg&&(0,jsx_runtime.jsx)(Create.Z,{}),(0,jsx_runtime.jsx)("input",{type:"file",onChange:e=>{loadingImg||e.target.files.length&&(setLoadingImg(!0),timeout(5e3,(async()=>{const file=e.target.files[0],url=await uploadFile(file);if(!url)throw new CustomError("Error uploading file.");await auth.currentUser.updateProfile({photoURL:url}),setPhotoUrl(url)})).catch((error=>{setErrors([new CustomError(error.message,error)])})).finally((()=>{setLoadingImg(!1)})))}})]}),!isVerified&&(0,jsx_runtime.jsx)("button",{className:loadingEmail?css_chat_room_module.loading:"",onClick:e=>{e.preventDefault(),loadingEmail||(setLoadingEmail(!0),timeout(5e3,(async()=>{const resendVerificationEmail=dist_esm_index_esm.Z.app().functions().httpsCallable("resendVerificationEmail"),result=await resendVerificationEmail({returnUrl:window.location.href});if(result.data.error)throw result.data.error;setAlerts([result.data.message])})).catch((error=>{setErrors([new CustomError(error.message,error)])})).finally((()=>{setLoadingEmail(!1)})))},children:"Resend Verification Email"})]})]})}function ColorInput(props){const setDebounce=useDebounce();return(0,jsx_runtime.jsx)("input",{type:"color",onChange:e=>{setDebounce((()=>props.onChange(e)),500)},onClick:props.onClick,onClickCapture:props.onClickCapture,defaultValue:props.defaultValue,disabled:props.disabled})}function SliderInput(props){const setDebounce=useDebounce();return(0,jsx_runtime.jsx)("input",{type:"range",min:props.min,max:props.max,defaultValue:props.defaultValue,className:css_chat_room_module.slider,onChange:e=>{setDebounce((()=>props.onChange(e)),500)},disabled:props.disabled})}function StyleEditorDialog(_ref){let{open,setErrors,requestClose,setPremiumPromptOpen,messagesRef,premium,user}=_ref;const{uid,username,fontSize,fontColor,font,msgBgImg,nameColor,msgBgColor,msgBgTransparency,msgBgRepeat,msgBgPosition,msgBgImgTransparency,stylesEnabled}=user,[loading,setLoading]=(0,react.useState)(!1);return open&&(0,jsx_runtime.jsxs)("div",{className:css_chat_room_module.dialog+" "+css_chat_room_module["message-style-editor"],children:[(0,jsx_runtime.jsxs)("header",{children:["Message style editor",(0,jsx_runtime.jsx)(Close.Z,{onClick:()=>{requestClose()}})]}),(0,jsx_runtime.jsx)("div",{className:css_chat_room_module["sample-message-wrapper"],children:(0,jsx_runtime.jsx)(ChatMessage,{message:{text:"Sample message text",uid,createdAt:new dist_esm_index_esm.Z.firestore.Timestamp(1726757369,337e6),username,fontSize,fontColor,font,backgroundImage:msgBgImg,nameColor,bgColor:msgBgColor,bgTransparency:msgBgTransparency,msgBgRepeat,msgBgPosition,msgBgImgTransparency},stylesEnabled,onClick:()=>{},currentUser:user,messagesRef})}),(0,jsx_runtime.jsxs)("label",{children:["Name color",(0,jsx_runtime.jsx)(ColorInput,{defaultValue:nameColor,onChange:e=>{(0,firebase_firestore_dist_esm_index_esm.r7)((0,firebase_firestore_dist_esm_index_esm.JU)(usersRef,uid),{nameColor:e.target.value})}})]}),(0,jsx_runtime.jsxs)("label",{onClick:()=>{if(!premium)return setPremiumPromptOpen(!0)},children:["Bg color",(0,jsx_runtime.jsx)(ColorInput,{defaultValue:msgBgColor,onChange:e=>{(0,firebase_firestore_dist_esm_index_esm.r7)((0,firebase_firestore_dist_esm_index_esm.JU)(usersRef,uid),{msgBgColor:e.target.value})},disabled:!premium})]}),(0,jsx_runtime.jsxs)("label",{onClick:()=>{if(!premium)return setPremiumPromptOpen(!0)},children:["Bg transparency",(0,jsx_runtime.jsx)(SliderInput,{min:"0",max:"100",defaultValue:100*msgBgTransparency,onChange:e=>{(0,firebase_firestore_dist_esm_index_esm.r7)((0,firebase_firestore_dist_esm_index_esm.JU)(usersRef,uid),{msgBgTransparency:e.target.value/100})},disabled:!premium})]}),(0,jsx_runtime.jsx)("label",{children:(0,jsx_runtime.jsxs)("label",{className:css_chat_room_module.button+" "+(premium?"":css_chat_room_module.disabled)+" "+(loading?css_chat_room_module.loading:""),onClick:()=>{if(!premium)return setPremiumPromptOpen(!0)},children:["Upload Image",(0,jsx_runtime.jsx)("input",{type:"file",onChange:e=>{loading||(setLoading(!0),timeout(5e3,(async()=>{if(!e.target.files.length)return;const file=e.target.files[0],url=await uploadFile(file);if(!url)throw new CustomError("Error uploading file.");await(0,firebase_firestore_dist_esm_index_esm.r7)((0,firebase_firestore_dist_esm_index_esm.JU)(usersRef,uid),{msgBgImg:url})})).catch((error=>{setErrors([new CustomError(error.message,error)])})).finally((()=>{setLoading(!1)})))},disabled:!premium})]})}),msgBgImg&&(0,jsx_runtime.jsx)("label",{onClick:async e=>{if(!premium)return setPremiumPromptOpen(!0);await(0,firebase_firestore_dist_esm_index_esm.r7)((0,firebase_firestore_dist_esm_index_esm.JU)(usersRef,uid),{msgBgImg:""})},className:css_chat_room_module.button+" "+(premium?"":css_chat_room_module.disabled),children:"Clear Image"}),(0,jsx_runtime.jsx)("div",{children:msgBgImg&&(0,jsx_runtime.jsxs)("label",{onClick:()=>{if(!premium)return setPremiumPromptOpen(!0)},children:[(0,jsx_runtime.jsx)("input",{type:"checkbox",onChange:async e=>{const checked=e.target.checked;await(0,firebase_firestore_dist_esm_index_esm.r7)((0,firebase_firestore_dist_esm_index_esm.JU)(usersRef,uid),{msgBgRepeat:checked?"repeat":"no-repeat"})},defaultChecked:"repeat"===msgBgRepeat,disabled:!premium}),"Tile image"]})}),msgBgImg&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{children:["Align image",(0,jsx_runtime.jsxs)("label",{onClick:()=>{if(!premium)return setPremiumPromptOpen(!0)},children:[(0,jsx_runtime.jsx)("input",{type:"radio",name:"msgBgPosition",defaultChecked:"left 0px top 0px"===msgBgPosition,onChange:async e=>{e.target.checked&&await(0,firebase_firestore_dist_esm_index_esm.r7)((0,firebase_firestore_dist_esm_index_esm.JU)(usersRef,uid),{msgBgPosition:"left 0px top 0px"})},disabled:!premium}),"Left"]}),(0,jsx_runtime.jsxs)("label",{onClick:()=>{if(!premium)return setPremiumPromptOpen(!0)},children:[(0,jsx_runtime.jsx)("input",{type:"radio",name:"msgBgPosition",defaultChecked:"right 0px top 0px"===msgBgPosition,onChange:async e=>{e.target.checked&&await(0,firebase_firestore_dist_esm_index_esm.r7)((0,firebase_firestore_dist_esm_index_esm.JU)(usersRef,uid),{msgBgPosition:"right 0px top 0px"})},disabled:!premium}),"Right"]})]}),(0,jsx_runtime.jsxs)("label",{onClick:()=>{if(!premium)return setPremiumPromptOpen(!0)},children:["Image transparency",(0,jsx_runtime.jsx)(SliderInput,{min:"0",max:"100",defaultValue:100*msgBgImgTransparency,onChange:e=>{(0,firebase_firestore_dist_esm_index_esm.r7)((0,firebase_firestore_dist_esm_index_esm.JU)(usersRef,uid),{msgBgImgTransparency:e.target.value/100})},disabled:!premium})]})]})]})}ProfileDialog.__docgenInfo={description:"",methods:[],displayName:"ProfileDialog"},ColorInput.displayName="ColorInput",ColorInput.__docgenInfo={description:"",methods:[],displayName:"ColorInput"},SliderInput.displayName="SliderInput",SliderInput.__docgenInfo={description:"",methods:[],displayName:"SliderInput"},StyleEditorDialog.__docgenInfo={description:"",methods:[],displayName:"StyleEditorDialog"};var ArrowDropDown=__webpack_require__("./node_modules/@mui/icons-material/esm/ArrowDropDown.js"),FormatColorText=__webpack_require__("./node_modules/@mui/icons-material/esm/FormatColorText.js");function UserStyleControls(_ref){let{user:{uid,font,fontSize,fontColor,stylesEnabled},isAnonymous,setErrors,open,premium,setPremiumPromptOpen,menuOpenKey,toggleSelectionMarkup,setMessageValue,setSelection,isStyleEditorOpen,setStyleEditorOpen}=_ref;const enabled=stylesEnabled;return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:open&&(0,jsx_runtime.jsxs)("div",{className:css_chat_room_module["format-controls"],children:[(0,jsx_runtime.jsx)("span",{onClickCapture:()=>{if(isAnonymous)return setErrors([new CustomError("Create an account to do that.")]);const newValue=!enabled;(0,firebase_firestore_dist_esm_index_esm.r7)((0,firebase_firestore_dist_esm_index_esm.JU)(usersRef,uid),{stylesEnabled:newValue})},children:enabled?(0,jsx_runtime.jsx)(Close.Z,{}):(0,jsx_runtime.jsx)(Add.Z,{})}),enabled&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(MenuWithButton,{button:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["T",(0,jsx_runtime.jsx)(ArrowDropDown.Z,{className:css_chat_room_module["down-arrow"]})]}),openKey:menuOpenKey,items:fonts.reduce(((items,fontObj)=>(items[fontObj.name+(font.name===fontObj.name?" ✓":"")]=()=>{if(isAnonymous)return setErrors([new CustomError("Create an account to do that.")]);(0,firebase_firestore_dist_esm_index_esm.r7)((0,firebase_firestore_dist_esm_index_esm.JU)(usersRef,uid),{font:fontObj})},items)),{})}),(0,jsx_runtime.jsx)(MenuWithButton,{button:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[fontSize,(0,jsx_runtime.jsx)(ArrowDropDown.Z,{className:css_chat_room_module["down-arrow"]})]}),openKey:menuOpenKey,items:[...Array(6).keys()].reduce(((items,number)=>(items[9+number]=()=>{if(isAnonymous)return setErrors([new CustomError("Create an account to do that.")]);(0,firebase_firestore_dist_esm_index_esm.r7)((0,firebase_firestore_dist_esm_index_esm.JU)(usersRef,uid),{fontSize:9+number})},items)),{}),children:[...Array(8).keys()].map(((number,i)=>(0,jsx_runtime.jsx)("div",{className:premium?"":css_chat_room_module.disabled,onClickCapture:()=>isAnonymous?setErrors([new CustomError("Create an account to do that.")]):premium?void(0,firebase_firestore_dist_esm_index_esm.r7)((0,firebase_firestore_dist_esm_index_esm.JU)(usersRef,uid),{fontSize:15+number}):setPremiumPromptOpen(!0),children:15+number},"premium-"+i)))}),(0,jsx_runtime.jsx)("strong",{onClick:()=>{const result=toggleSelectionMarkup(MARKUP_SYMBOLS.BOLD);setMessageValue(result.value),setSelection({start:result.start,end:result.end})},children:"B"}),(0,jsx_runtime.jsx)("em",{onClick:()=>{const result=toggleSelectionMarkup(MARKUP_SYMBOLS.ITALICS);setMessageValue(result.value),setSelection({start:result.start,end:result.end})},children:"i"}),(0,jsx_runtime.jsx)("span",{onClickCapture:()=>{if(isAnonymous)return setErrors([new CustomError("Create an account to do that.")]);setStyleEditorOpen(!isStyleEditorOpen)},children:"bg"}),(0,jsx_runtime.jsx)(MenuWithButton,{button:(0,jsx_runtime.jsx)(FormatColorText.Z,{className:css_chat_room_module["font-color"],style:{border:`1px solid ${fontColor}`}}),openKey:menuOpenKey,keepOpen:!0,children:(0,jsx_runtime.jsx)(ColorInput,{defaultValue:fontColor,onChange:e=>{if(isAnonymous)return setErrors([new CustomError("Create an account to do that.")]);(0,firebase_firestore_dist_esm_index_esm.r7)((0,firebase_firestore_dist_esm_index_esm.JU)(usersRef,uid),{fontColor:e.target.value})},onClick:e=>{if(e.stopPropagation(),isAnonymous)return setErrors([new CustomError("Create an account to do that.")])}})})]})]})})}UserStyleControls.__docgenInfo={description:"",methods:[],displayName:"UserStyleControls"};function ChatRoom(props){const{messagesRef,conversationRef,user,isLoadingUser,headerLinks}=props,[presence,setPresence]=(0,react.useState)(null),[isLoadingPresence,setLoadingPresence]=(0,react.useState)(!1),[errors,setErrors]=(0,react.useState)([]),[messageErrorFlash,setMessageErrorFlash]=(0,react.useState)(0),[premium,setPremium]=(0,react.useState)(!1),[isOnline,setIsOnline]=(0,react.useState)(!0),[messageValue,setMessageValue]=(0,react.useState)(""),[onlineUsers,setOnlineUsers]=(0,react.useState)(null),userId=user?user.uid:null,username=user&&user.username?user.username:null,[photoUrl,setPhotoUrl]=(0,react.useState)(user?user.photoUrl:null),[stylesEnabled,setStylesEnabled]=(0,react.useState)(!0),[isPremiumPromptOpen,setPremiumPromptOpen]=(0,react.useState)(!1),[isPremiumOpen,setPremiumOpen]=(0,react.useState)(!1),[unreadDmCount,setUnreadDmCount]=(0,react.useState)(0),[isDmsOpen,setDmsOpen]=(0,react.useState)(!1),[isUsersOpen,setUsersOpen]=(0,react.useState)(!1),[isBanlistOpen,setBanlistOpen]=(0,react.useState)(!1),[isModsOpen,setModsOpen]=(0,react.useState)(!1),[isModActionLogOpen,setModActionLogOpen]=(0,react.useState)(!1),[isFilteredWordsOpen,setFilteredWordsOpen]=(0,react.useState)(!1),[isLoginOpen,setLoginOpen]=(0,react.useState)(!1),[confirmModal,setConfirmModal]=(0,react.useState)(null),[menuOpenKey,setMenuOpenKey]=(0,react.useState)(0),[isEmojisOpen,setEmojisOpen]=(0,react.useState)(!1),[isFormatOpen,setFormatOpen]=(0,react.useState)(!1),[isStyleEditorOpen,setStyleEditorOpen]=(0,react.useState)(!1),[isProfileOpen,setProfileOpen]=(0,react.useState)(!1),[selection,setSelection]=(0,react.useState)({start:0,end:0}),[isPopMuted,setPopMuted]=(0,react.useState)("true"===localStorage.getItem("isPopMuted")),[sentMsgCount,setSentMsgCount]=(0,react.useState)(0),[timestamps,setTimestamps]=(0,react.useState)([]),[isDraggedOn,setIsDraggedOn]=(0,react.useState)(!1);let messageInput=(0,react.useRef)();const[delayedMessagesData,setDelayedMessagesData]=(0,react.useState)(null),[realtimeMessagesData]=(0,firestore_dist_index_esm.Xi)(delayedMessagesData?null:(0,firebase_firestore_dist_esm_index_esm.JU)((0,firebase_firestore_dist_esm_index_esm.ad)(),"aggregateMessages/last25")),[dmData]=(0,firestore_dist_index_esm.d4)(props.dms?messagesRef.limit(25).orderBy("createdAt","desc").where("isDeleted","==",!1).withConverter(idConverter):null),messages=(0,react.useMemo)((()=>{if(!dmData&&!delayedMessagesData&&!realtimeMessagesData)return[];if(dmData)return dmData;return Object.entries(delayedMessagesData&&delayedMessagesData.list||realtimeMessagesData&&realtimeMessagesData.list).sort(((a,b)=>(a[1].createdAt||new firebase_firestore_dist_esm_index_esm.EK)-(b[1].createdAt||new firebase_firestore_dist_esm_index_esm.EK))).map((pair=>({...pair[1]}))).reverse()}),[delayedMessagesData,realtimeMessagesData,dmData]);(0,react.useEffect)((()=>{if(onlineUsers){let timeout=null;if(onlineUsers.length<100)return void setDelayedMessagesData(null);const readMessages=async(delay,onlineUsers)=>{const data=(await(0,firebase_firestore_dist_esm_index_esm.QT)((0,firebase_firestore_dist_esm_index_esm.JU)((0,firebase_firestore_dist_esm_index_esm.ad)(),"aggregateMessages/last25"))).data()||{list:{}},entries=Object.entries(data.list);if(setDelayedMessagesData({list:Object.fromEntries(entries.map((pair=>{if(pair[1].createdAt){const timeUntil=pair[1].createdAt.toMillis()-(Date.now()-delay);return timeUntil>0&&setTimeout((()=>setDelayedMessagesData((old=>({list:{...old&&old.list,[pair[0]]:{...pair[1],id:pair[0],isHidden:!1,isEmbedDisabled:!0}}})))),timeUntil),[pair[0],{...pair[1],id:pair[0],isHidden:timeUntil>0,isEmbedDisabled:!0}]}return[pair[0],{...pair[1],id:pair[0],isHidden:!0,isEmbedDisabled:!0}]})))}),onlineUsers.length>=100){const delay=4e3+10*onlineUsers.length;timeout=setTimeout((()=>readMessages(delay,onlineUsers)),delay)}};return readMessages(1,onlineUsers),()=>{null!==timeout&&clearTimeout(timeout)}}}),[null!==onlineUsers&&onlineUsers.length>=100]),(0,react.useEffect)((()=>{const unsubOnlineUsers=dist_esm_index_esm.Z.firestore().collection("userPresences").where("isOnline","==",!0).onSnapshot((function(snapshot){setOnlineUsers(snapshot.docs.map((doc=>doc.data())))}));return()=>{unsubOnlineUsers()}}),[]),(0,react.useEffect)((()=>!(!isLoadingUser&&!isLoadingPresence)||(!(!presence||presence.uid!=userId&&(userId||presence.username))||(setLoadingPresence(!0),void(async(presence,userId,user,username)=>{if(presence&&(await presence.unsubscribe(),await presence.disconnect()),user&&username){const idTokenResult=await(0,firebase_auth_dist_esm_index_esm.ag)(user);setPremium("premium"===idTokenResult.claims.stripeRole||isGiftedPremium(user))}setPresence(function startPresence(uid,username,setIsOnline){let isSubscribed=!1,disconnectRef=null,unsubPresence=null,connectedRef=null,isConnectedTimeout=null,messageTimeout=null,refreshIntervalId=null;dist_esm_index_esm.Z.database.ServerValue.TIMESTAMP;const isOnlineForDatabase={isOnline:!0,lastChanged:dist_esm_index_esm.Z.database.ServerValue.TIMESTAMP,username},isOnlineForFirestore=(dist_esm_index_esm.Z.firestore.FieldValue.serverTimestamp(),{isOnline:!0,lastChanged:dist_esm_index_esm.Z.firestore.FieldValue.serverTimestamp(),username});function startPeriodicUpdate(){stopPeriodicUpdate(),refreshIntervalId=setInterval((()=>{dist_esm_index_esm.Z.database().ref(`/userPresences/${uid}`).set(isOnlineForDatabase)}),3e6)}function stopPeriodicUpdate(){null!==refreshIntervalId&&(clearInterval(refreshIntervalId),refreshIntervalId=null)}async function onWindowFocusChange(){if(document.hasFocus())signalOnline();else if(stopPeriodicUpdate(),null===isConnectedTimeout){const user=dist_esm_index_esm.Z.auth().currentUser,token=user?await user.getIdTokenResult(!0):null,expirationTime=token?Date.parse(token.expirationTime):null,now=Date.now();expirationTime?(dist_esm_index_esm.Z.database().ref(`/userPresences/${uid}`).set(isOnlineForDatabase),isConnectedTimeout=setTimeout((async()=>{await dist_esm_index_esm.Z.database().ref(`/userPresences/${uid}`).remove(),isConnectedTimeout=null}),expirationTime-now-6e5)):await dist_esm_index_esm.Z.database().ref(`/userPresences/${uid}`).remove()}}async function onConnectedValueChanged(snapshot){isSubscribed&&(!1===snapshot.val()?dist_esm_index_esm.Z.firestore().collection("userPresences").doc(uid).delete():(startPeriodicUpdate(),null!==isConnectedTimeout&&(clearTimeout(isConnectedTimeout),isConnectedTimeout=null),disconnectRef&&disconnectRef.cancel(),disconnectRef=dist_esm_index_esm.Z.database().ref(`/userPresences/${uid}`).onDisconnect(),await disconnectRef.remove(),dist_esm_index_esm.Z.database().ref(`/userPresences/${uid}`).set(isOnlineForDatabase),dist_esm_index_esm.Z.firestore().collection("userPresences").doc(uid).set(isOnlineForFirestore)))}async function signalOnline(){isSubscribed&&(startPeriodicUpdate(),await dist_esm_index_esm.Z.database().ref(`/userPresences/${uid}`).set(isOnlineForDatabase),await dist_esm_index_esm.Z.firestore().collection("userPresences").doc(uid).set(isOnlineForFirestore))}return function subscribe(){isSubscribed=!0,window.addEventListener("blur",onWindowFocusChange),window.addEventListener("focus",onWindowFocusChange),connectedRef=dist_esm_index_esm.Z.database().ref(".info/connected"),uid=uid||dist_esm_index_esm.Z.database().ref("/userPresences").push().key,connectedRef.on("value",onConnectedValueChanged),unsubPresence=dist_esm_index_esm.Z.firestore().collection("userPresences").doc(uid).onSnapshot((function(doc){isSubscribed&&doc.data()&&(doc.data().isOnline?(null!==messageTimeout&&(clearTimeout(messageTimeout),messageTimeout=null),setIsOnline(!0)):null===messageTimeout&&(messageTimeout=setTimeout((()=>{setIsOnline(!1),messageTimeout=null}),5e3)))}))}(),dist_esm_index_esm.Z.database().goOnline(),{uid,username,unsubscribe:async function unsubscribe(){isSubscribed=!1,window.removeEventListener("blur",onWindowFocusChange),window.removeEventListener("focus",onWindowFocusChange),stopPeriodicUpdate(),null!==isConnectedTimeout&&(clearTimeout(isConnectedTimeout),isConnectedTimeout=null),null!==messageTimeout&&(clearTimeout(messageTimeout),messageTimeout=null),connectedRef.off("value",onConnectedValueChanged),unsubPresence&&unsubPresence(),unsubPresence=null,disconnectRef&&await disconnectRef.cancel(),disconnectRef=null},disconnect:async function disconnect(){await dist_esm_index_esm.Z.database().ref(`/userPresences/${uid}`).remove()},signalOnline}}(userId,username,setIsOnline)),setLoadingPresence(!1)})(presence,userId,user,username)))),[userId,isLoadingUser,isLoadingPresence]),(0,react.useEffect)((()=>{if(!selection)return;const{start,end}=selection;messageInput.current.focus(),messageInput.current.setSelectionRange(start,end)}),[selection]),(0,react.useEffect)((()=>{props.dms&&async function markMessagesRead(){await conversationRef.set({users:{[userId]:{lastReadAt:dist_esm_index_esm.Z.firestore.FieldValue.serverTimestamp()}}},{merge:!0})}()}),[props.dms,conversationRef,userId]);const mentionUser=(0,react.useCallback)((targetUsername=>{const selection=function getSelectionText(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:void 0}();setMessageValue(messageValue+" @"+targetUsername+(selection.trim()?" \n> "+selection+"\n":"")+" "),messageInput.current.focus()}),[messageInput,messageValue]);return(0,jsx_runtime.jsxs)("section",{className:css_chat_room_module["chat-section"]+" "+(isDraggedOn?css_chat_room_module["is-dragged-on"]:""),onClickCapture:()=>{setMenuOpenKey(menuOpenKey+1)},onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),setIsDraggedOn(!0)},children:[(0,jsx_runtime.jsxs)("header",{children:[(0,jsx_runtime.jsxs)("span",{children:[props.header,headerLinks]}),props.dms&&(0,jsx_runtime.jsx)(Close.Z,{className:css_chat_room_module.pointer,onClick:()=>{props.setDmMessagesRef(null)}})]}),(0,react.useMemo)((()=>(0,jsx_runtime.jsx)(MessageList,{setErrors,setAlerts:props.setAlerts,messagesRef,defaultMessages:messages,onMessageClick:mentionUser,sentMsgCount,currentUser:user||{},isPopMuted,setConfirmModal})),[messages,messagesRef,messageInput,messageValue,sentMsgCount,user,isPopMuted]),user&&(0,jsx_runtime.jsx)(UserStyleControls,{user,open:isFormatOpen,premium,isAnonymous:null==user.email,menuOpenKey,setMenuOpenKey,setErrors,messageInput:messageInput.current,setMessageValue,setStyleEditorOpen,isStyleEditorOpen,toggleSelectionMarkup:symbol=>toggleSelectionMarkup(messageInput.current,symbol),setSelection,setPremiumPromptOpen}),(0,jsx_runtime.jsx)(MessageInputForm,{user:user||{},premium,sendMessage:async e=>{e.preventDefault();const text=messageValue;try{if(conversationRef&&!user.emailVerified)throw new CustomError("Verify your email to do that.");text&&(setMessageValue(""),setTimestamps((timestamps=>[Date.now(),...timestamps])),await messages_sendMessage(user,{conversationId:conversationRef?conversationRef.id:messagesRef.id,text,isDeleted:!1,isNewUser:false},messages),setSentMsgCount(sentMsgCount+1))}catch(error){setMessageValue(text),setMessageErrorFlash(messageErrorFlash+1),messageInput.current.style.animation="none",messageInput.current.offsetHeight,messageInput.current.style.animation=null,setErrors([new CustomError(error.message,error)])}},ref:messageInput,messageValue,setErrors,messageErrorFlash,setMessageValue,setSelection,toggleSelectionMarkup:symbol=>toggleSelectionMarkup(messageInput.current,symbol),isEmojisOpen,setEmojisOpen,isFormatOpen,setFormatOpen,userId,onlineUsers,setLoginOpen}),(0,jsx_runtime.jsxs)("footer",{className:css_chat_room_module["chat-controls"],children:[(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)("button",{className:css_chat_room_module["alt-button"],onClick:()=>{localStorage.setItem("isPopMuted",!localStorage.getItem("isPopMuted")),setPopMuted(!isPopMuted)},children:isPopMuted?(0,jsx_runtime.jsx)(VolumeOff.Z,{}):(0,jsx_runtime.jsx)(VolumeUp.Z,{})})}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("button",{className:css_chat_room_module["alt-button"]+" "+css_chat_room_module["user-count"],onClick:()=>{setUsersOpen(!isUsersOpen)},children:onlineUsers?onlineUsers.length:1}),(0,jsx_runtime.jsx)("button",{className:css_chat_room_module["number-badge"]+" "+css_chat_room_module["alt-button"],"data-badge-text":unreadDmCount||"",onClick:()=>{setDmsOpen(!isDmsOpen)},children:(0,jsx_runtime.jsx)(ChatBubble.Z,{className:css_chat_room_module["chat-bubble-icon"]+" "+(unreadDmCount?css_chat_room_module.yellow:"")})}),user&&user.isModerator&&(0,jsx_runtime.jsx)(MenuWithButton,{button:(0,jsx_runtime.jsx)(Gavel.Z,{className:css_chat_room_module["gavel-icon"]}),openKey:menuOpenKey,items:{Banlist:()=>{setBanlistOpen(!isBanlistOpen)},...user.isAdmin?{"Manage Moderators":()=>{setModsOpen(!isModsOpen)},"Mod Action Log":()=>{setModActionLogOpen(!isModActionLogOpen)},"Filtered words":()=>{setFilteredWordsOpen(!isFilteredWordsOpen)}}:{}}}),(0,jsx_runtime.jsx)(MenuWithButton,{button:(0,jsx_runtime.jsx)(Menu.Z,{}),openKey:menuOpenKey,items:{...user?{"Edit profile":()=>{setProfileOpen(!isProfileOpen)},Premium:()=>{setPremiumOpen(!isPremiumOpen)},"Log out":async()=>{props.logout()}}:{"Signup/Login":()=>{setLoginOpen(!isLoginOpen)}}}})]})]}),user&&(0,jsx_runtime.jsx)(StyleEditorDialog,{open:isStyleEditorOpen,premium,requestClose:()=>{setStyleEditorOpen(!1)},setErrors,setPremiumPromptOpen,messagesRef,user}),(0,jsx_runtime.jsx)(OnlineUsersDialog,{open:isUsersOpen,requestClose:()=>setUsersOpen(!1),onlineUsers}),user&&(0,jsx_runtime.jsx)(DmsDialog,{open:isDmsOpen,username:user.username,userId:user.uid,setConversationRef:props.setConversationRef,setDmMessagesRef:props.setDmMessagesRef,onChange:conversations=>{setUnreadDmCount(conversations&&user?conversations.reduce(((total,conversation)=>{const lastReadAt=conversation.users[user.uid].lastReadAt;let isUnread=!1;return null!==lastReadAt&&(isUnread=conversation.lastMessageSentAt>lastReadAt),isUnread?total+1:total}),0):0)},requestClose:()=>{setDmsOpen(!1)}}),user&&user.isAdmin&&(0,jsx_runtime.jsx)(ModeratorsDialog,{open:isModsOpen,requestClose:()=>{setModsOpen(!1)}}),(0,jsx_runtime.jsx)(BanlistDialog,{open:isBanlistOpen,requestClose:()=>{setBanlistOpen(!1)},setConfirmModal,setAlerts:props.setAlerts}),(0,jsx_runtime.jsx)(ModActionLogDialog,{open:isModActionLogOpen,requestClose:()=>{setModActionLogOpen(!1)}}),(0,jsx_runtime.jsx)(FilteredWordsDialog,{open:isFilteredWordsOpen,requestClose:()=>{setFilteredWordsOpen(!1)}}),(0,jsx_runtime.jsxs)("div",{className:css_chat_room_module.dialog+" "+(isEmojisOpen?"":css_chat_room_module.hidden),children:[(0,jsx_runtime.jsxs)("header",{children:["Emojis",(0,jsx_runtime.jsx)(Close.Z,{onClick:()=>{setEmojisOpen(!1)}})]}),(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(EmojiSelector,{isAnonymous:!user||null==user.email,setErrors,onSelect:emojiChar=>{messageInput.current.focus(),function insertIntoInput(newText){let el=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.activeElement;if(el.setRangeText){const[start,end]=[el.selectionStart,el.selectionEnd];el.setRangeText(newText,start,end,"end")}else el.value+=newText+" "}(emojiChar+" ",messageInput.current),setMessageValue(messageInput.current.value)},setPremiumPromptOpen,setPremiumOpen,messageValue,setMessageValue,messageInput:messageInput.current,shouldComponentUpdate:!1,premium})})]}),user&&(0,jsx_runtime.jsx)(ProfileDialog,{open:isProfileOpen,requestClose:()=>{setProfileOpen(!1)},setErrors,setAlerts:props.setAlerts,photoUrl,setPhotoUrl,isVerified:user.emailVerified}),isPremiumPromptOpen&&(0,jsx_runtime.jsxs)("div",{className:css_chat_room_module.dialog,children:[(0,jsx_runtime.jsxs)("header",{children:["Premium Feature",(0,jsx_runtime.jsx)(Close.Z,{onClick:()=>{setPremiumPromptOpen(!1)}})]}),(0,jsx_runtime.jsxs)("main",{children:["You must be a Premium user to do that!",(0,jsx_runtime.jsx)("button",{className:css_chat_room_module.link,onClick:()=>{setPremiumPromptOpen(!1),setPremiumOpen(!0)},children:"Upgrade now!"})]})]}),user&&(0,jsx_runtime.jsx)(PremiumDialog,{open:isPremiumOpen,isAnonymous:null==user.email,user,premium,requestClose:()=>{setPremiumOpen(!1)}}),(0,jsx_runtime.jsx)(LogInForm,{open:!userId&&!isLoadingUser&&isLoginOpen,errors,requestClose:()=>{setLoginOpen(!1)},setAlerts:props.setAlerts,logout:props.logout}),confirmModal&&(0,jsx_runtime.jsxs)("div",{className:css_chat_room_module.dialog+" "+css_chat_room_module["confirm-modal"],children:[(0,jsx_runtime.jsx)("main",{children:confirmModal.message}),(0,jsx_runtime.jsx)("footer",{children:Object.entries(confirmModal).filter((_ref=>{let[key]=_ref;return"message"!==key})).map((_ref2=>{let[key,value]=_ref2;return(0,jsx_runtime.jsx)("button",{onClick:value,children:key},key)}))})]}),(0,jsx_runtime.jsx)(ErrorDialog,{errors,requestClose:()=>{setErrors([])}}),!isOnline&&(0,jsx_runtime.jsx)("div",{className:css_chat_room_module["chat-room-overlay"],children:(0,jsx_runtime.jsxs)("div",{className:css_chat_room_module["overlay-message"],children:[(0,jsx_runtime.jsx)("div",{children:"Connection interrupted."}),(0,jsx_runtime.jsx)("button",{onClickCapture:()=>{presence.signalOnline&&presence.signalOnline()},children:"Reconnect"})]})}),(0,jsx_runtime.jsx)(FileUploadOverlay,{isDraggedOn,setIsDraggedOn,messageInput:messageInput.current,messageValue,setMessageValue,setErrors})]})}ChatRoom.displayName="ChatRoom",ChatRoom.__docgenInfo={description:"",methods:[],displayName:"ChatRoom"};var analytics_dist_esm_index_esm=__webpack_require__("./node_modules/firebase/analytics/dist/esm/index.esm.js"),firebase_storage_dist_esm_index_esm=__webpack_require__("./node_modules/firebase/storage/dist/esm/index.esm.js"),firebase_database_dist_esm_index_esm=__webpack_require__("./node_modules/firebase/database/dist/esm/index.esm.js");dist_esm_index_esm.Z.initializeApp({name:"stream-site-9ebd9",apiKey:"AIzaSyB4dhrVHT9oeRUNf7wi-Zs6pnnq2xZ80YM",authDomain:"stream-site-9ebd9",projectId:"stream-site-9ebd9",storageBucket:"stream-site-9ebd9.appspot.com",databaseURL:"localhost"===window.location.hostname?"http://localhost:9000/?ns=stream-site-9ebd9-default-rtdb":"https://stream-site-9ebd9-default-rtdb.firebaseio.com",messagingSenderId:"1008086677721",appId:"1:1008086677721:web:e8ee668830765c3df626c8",measurementId:"G-T9226MT70Q"});const firestore=(0,firebase_firestore_dist_esm_index_esm.ad)(),functions=((0,analytics_dist_esm_index_esm.IH)(),(0,firebase_functions_dist_esm_index_esm.$C)()),auth=(0,firebase_auth_dist_esm_index_esm.v0)(),storage=(0,firebase_storage_dist_esm_index_esm.cF)(),db=(0,firebase_database_dist_esm_index_esm.N8)();"localhost"===window.location.hostname&&((0,firebase_auth_dist_esm_index_esm.S$)(auth,"http://localhost:9099"),(0,firebase_firestore_dist_esm_index_esm.at)(firestore,"localhost",8080),(0,firebase_functions_dist_esm_index_esm.pm)(functions,"localhost",5001),(0,firebase_database_dist_esm_index_esm.dH)(db,"localhost",9e3),(0,firebase_storage_dist_esm_index_esm.a1)(storage,"localhost",9199));const conversationsRef=(0,firebase_firestore_dist_esm_index_esm.hJ)(firestore,"conversations"),usersRef=(0,firebase_firestore_dist_esm_index_esm.hJ)(firestore,"users"),modActionLogRef=(0,firebase_firestore_dist_esm_index_esm.hJ)(firestore,"modActionLog"),settingsRef=(0,firebase_firestore_dist_esm_index_esm.hJ)(firestore,"settings"),messagesRef=(0,firebase_firestore_dist_esm_index_esm.hJ)(firestore,"messages"),callbacksRef=(0,firebase_firestore_dist_esm_index_esm.hJ)(firestore,"callbacks"),aggregateMessagesRef=(0,firebase_firestore_dist_esm_index_esm.hJ)(firestore,"aggregateMessages"),banUser=dist_esm_index_esm.Z.functions().httpsCallable("banUser"),unbanUser=dist_esm_index_esm.Z.functions().httpsCallable("unbanUser");dist_esm_index_esm.Z.functions().httpsCallable("ext-firestore-stripe-subscriptions-createPortalLink");function UsernameBadge(_ref){let{username}=_ref;const[user,setUser]=(0,react.useState)();return(0,react.useEffect)((()=>{(async()=>{setUser((await usersRef.where("lowercaseUsername","==",username.toLowerCase()).get()).docs[0].data())})()}),[]),(0,jsx_runtime.jsx)("span",{className:css_chat_room_module.badge,style:{background:user&&user.msgBgColor?user.msgBgColor:"white",color:user&&user.nameColor?user.nameColor:"black"},children:username})}function ChatRoomApp(_ref2){let{className,onUserChange,callbackToTrigger,callbacks,headerLinks,style}=_ref2;const[authUser,isLoadingAuth]=(0,dist_index_esm.F_)(auth),[callbacksTriggered]=(0,firestore_dist_index_esm.d4)((0,firebase_firestore_dist_esm_index_esm.IO)(callbacksRef,(0,firebase_firestore_dist_esm_index_esm.Xo)("triggeredAt","desc"),(0,firebase_firestore_dist_esm_index_esm.b9)(1)).withConverter(idConverter)),[userSnapshot,isLoadingUserDoc]=(0,firestore_dist_index_esm.ky)(authUser?(0,firebase_firestore_dist_esm_index_esm.JU)(usersRef,authUser.uid):null),isLoadingUser=isLoadingAuth||isLoadingUserDoc||null!=authUser&&(!userSnapshot||authUser.uid!=userSnapshot.id),user=!isLoadingUser&&authUser&&userSnapshot?{uid:authUser.uid,photoUrl:authUser.photoURL,email:authUser.email,emailVerified:authUser.emailVerified,auth:authUser,...userSnapshot.data()}:null,[conversationRef,setConversationRef]=(0,react.useState)(null),[dmMessagesRef,setDmMessagesRef]=(0,react.useState)(null),[alerts,setAlerts]=(0,react.useState)([]),logout=async()=>{await(0,firebase_auth_dist_esm_index_esm.w7)(auth),setConversationRef(null),setDmMessagesRef(null)};(0,react.useEffect)((()=>{onUserChange(authUser,user)}),[authUser,userSnapshot]);const callbackTriggered=callbacksTriggered&&callbacksTriggered.length?callbacksTriggered[0]:{id:0};(0,react.useEffect)((()=>{if(callbackTriggered.id){localStorage.getItem("callbackTriggered.id")!==callbackTriggered.id&&callbacks&&callbackTriggered.name in callbacks&&(callbacks[callbackTriggered.name](...callbackTriggered.arguments),localStorage.setItem("callbackTriggered.id",callbackTriggered.id))}}),[callbackTriggered.id]),(0,react.useEffect)((()=>{callbackToTrigger&&callbacks&&callbackToTrigger.name in callbacks&&callbacksRef.add({name:callbackToTrigger.name,arguments:callbackToTrigger.arguments,triggeredAt:dist_esm_index_esm.Z.firestore.FieldValue.serverTimestamp()})}),[callbackToTrigger,callbacks]),(0,react.useEffect)((()=>{const url=new URL(window.location);url.searchParams.get("chat-email-verified")&&(setAlerts(["Email verification successful!"]),setQueryParam("chat-email-verified",null)),url.searchParams.get("chat-logout")&&(setQueryParam("chat-logout",null),logout())}),[]);const header=conversationRef&&authUser?conversationRef.id.split(":").filter((e=>e!==authUser.displayName)).map((otherUsername=>(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsx)(UsernameBadge,{username:otherUsername})}))):null;return(0,jsx_runtime.jsxs)("div",{className:className+" "+css_chat_room_module["chat-app"],style,children:[(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:dmMessagesRef?(0,jsx_runtime.jsx)(ChatRoom,{user,isLoadingUser,setAlerts,conversationRef,setConversationRef,messagesRef:dmMessagesRef,aggregateMessagesRef,setDmMessagesRef,logout,header,dms:!0}):(0,jsx_runtime.jsx)(ChatRoom,{user,isLoadingUser,setAlerts,messagesRef,aggregateMessagesRef,setConversationRef,setDmMessagesRef,logout,headerLinks})}),(0,jsx_runtime.jsx)(AlertDialog,{alerts,requestClose:()=>{setAlerts([])}})]})}UsernameBadge.displayName="UsernameBadge",ChatRoomApp.displayName="ChatRoomApp";ChatRoomApp.__docgenInfo={description:"",methods:[],displayName:"ChatRoomApp"};const chat_room_app_stories={title:"App",component:ChatRoomApp},Default=()=>{const[user,setUser]=(0,react.useState)(null),[callbackToTrigger,setCallbackToTrigger]=(0,react.useState)(null);return(0,react.useEffect)((()=>{setTimeout((()=>{setCallbackToTrigger({name:"test",arguments:[15]})}),2e3)}),[]),(0,jsx_runtime.jsx)(ChatRoomApp,{style:{height:"600px",width:"400px"},headerLinks:[(0,jsx_runtime.jsx)("a",{href:"/chat",target:"_blank",rel:"noreferrer",children:(0,jsx_runtime.jsx)(index_esm.x9Z,{})},"headerlink-1")],callbackToTrigger,onUserChange:()=>{}})};Default.displayName="Default",Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'() => {\n  const [user, setUser] = useState(null);\n  const [callbackToTrigger, setCallbackToTrigger] = useState(null);\n  useEffect(() => {\n    setTimeout(() => {\n      setCallbackToTrigger({\n        name: "test",\n        arguments: [15]\n      });\n    }, 2000);\n  }, []);\n  return <ChatRoomApp style={{\n    height: "600px",\n    width: "400px"\n  }} headerLinks={[<a href="/chat" target="_blank" rel="noreferrer" key="headerlink-1">\r\n          <HiExternalLink />\r\n        </a>]} callbackToTrigger={callbackToTrigger} onUserChange={() => {}} />;\n}',...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./src/css/oembed.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,'/* Put a line break before the first embed of a group and after the last one */\n[data-provider]:first-child::before {\n  content: "";\n  display: block;\n}\n\n[data-provider]:last-child::after {\n  content: "";\n  display: block;\n}\n\n/* Youtube */\n[data-provider=YouTube] > span {\n  display: inline-block;\n  width: min(300px, 100%);\n  aspect-ratio: 16/9;\n}\n[data-provider=YouTube] iframe {\n  width: 100%;\n  height: 100%;\n}\n\n/* Twitter */\n[data-provider=Twitter] blockquote.twitter-tweet {\n  display: inline-block;\n  font-family: "Helvetica Neue", Roboto, "Segoe UI", Calibri, sans-serif;\n  font-size: 12px;\n  font-weight: bold;\n  line-height: 16px;\n  border-color: #eee #ddd #bbb;\n  border-radius: 5px;\n  border-style: solid;\n  border-width: 1px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\n  margin: 10px 5px;\n  padding: 0 16px 16px 16px;\n  min-height: initial;\n  max-width: 600px;\n}\n[data-provider=Twitter] p {\n  font-size: 16px;\n  font-weight: normal;\n  line-height: 20px;\n  margin: 16px 0px;\n  display: block;\n}\n[data-provider=Twitter] blockquote.twitter-tweet a {\n  color: rgb(27, 149, 224);\n  font-weight: normal;\n  text-decoration: none;\n  outline: 0 none;\n}\n[data-provider=Twitter] blockquote.twitter-tweet a:hover,\n[data-provider=Twitter] blockquote.twitter-tweet a:focus {\n  text-decoration: underline;\n}/*# sourceMappingURL=oembed.css.map */',"",{version:3,sources:["webpack://./src/css/oembed.scss","webpack://./src/css/oembed.css"],names:[],mappings:"AAAA,8EAAA;AACA;EACE,WAAA;EACA,cAAA;ACCF;;ADEA;EACE,WAAA;EACA,cAAA;ACCF;;ADEA,YAAA;AAEE;EACE,qBAAA;EACA,uBAAA;EACA,kBAAA;ACAJ;ADGE;EACE,WAAA;EACA,YAAA;ACDJ;;ADKA,YAAA;AAEE;EACE,qBAAA;EACA,sEAAA;EACA,eAAA;EACA,iBAAA;EACA,iBAAA;EACA,4BAAA;EACA,kBAAA;EACA,mBAAA;EACA,iBAAA;EACA,yCAAA;EACA,gBAAA;EACA,yBAAA;EAEA,mBAAA;EACA,gBAAA;ACJJ;ADOE;EACE,eAAA;EACA,mBAAA;EACA,iBAAA;EACA,gBAAA;EAEA,cAAA;ACNJ;ADSE;EACE,wBAAA;EACA,mBAAA;EACA,qBAAA;EACA,eAAA;ACPJ;ADUE;;EAEE,0BAAA;ACRJ,CAAA,qCAAA",sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./src/components/user-select/user-select.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".user-select-module__userSelect__epwd4 {\n  position: absolute !important;\n  z-index: 1;\n}/*# sourceMappingURL=user-select.module.css.map */","",{version:3,sources:["webpack://./src/components/user-select/user-select.module.scss","webpack://./src/components/user-select/user-select.module.css"],names:[],mappings:"AAAA;EACE,6BAAA;EACA,UAAA;ACCF,CAAA,iDAAA",sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={userSelect:"user-select-module__userSelect__epwd4"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./src/css/chat-room.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__),_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/css-loader/dist/runtime/getUrl.js"),_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__),___CSS_LOADER_URL_IMPORT_0___=new URL(__webpack_require__("./src/css/comic-sans-ms.ttf"),__webpack_require__.b),___CSS_LOADER_URL_IMPORT_1___=new URL(__webpack_require__("./src/css/comic-sans-ms-bold.ttf"),__webpack_require__.b),___CSS_LOADER_URL_IMPORT_2___=new URL(__webpack_require__("./src/css/comic-sans-ms-italic.ttf"),__webpack_require__.b),___CSS_LOADER_URL_IMPORT_3___=new URL(__webpack_require__("./src/css/comic-sans-ms-bold-italic.ttf"),__webpack_require__.b),___CSS_LOADER_URL_IMPORT_4___=new URL(__webpack_require__("./src/css/loading-spinner.svg"),__webpack_require__.b),___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()),___CSS_LOADER_URL_REPLACEMENT_0___=_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_0___),___CSS_LOADER_URL_REPLACEMENT_1___=_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_1___),___CSS_LOADER_URL_REPLACEMENT_2___=_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_2___),___CSS_LOADER_URL_REPLACEMENT_3___=_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_3___),___CSS_LOADER_URL_REPLACEMENT_4___=_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_4___);___CSS_LOADER_EXPORT___.push([module.id,'@font-face {\r\n  font-family: "Comic Sans MS Custom";\r\n  src: url('+___CSS_LOADER_URL_REPLACEMENT_0___+');\r\n}\r\n\r\n@font-face {\r\n  font-family: "Comic Sans MS Custom";\r\n  src: url('+___CSS_LOADER_URL_REPLACEMENT_1___+');\r\n  font-weight: bold;\r\n}\r\n\r\n@font-face {\r\n  font-family: "Comic Sans MS Custom";\r\n  src: url('+___CSS_LOADER_URL_REPLACEMENT_2___+');\r\n  font-style: italic;\r\n}\r\n\r\n@font-face {\r\n  font-family: "Comic Sans MS Custom";\r\n  src: url('+___CSS_LOADER_URL_REPLACEMENT_3___+');\r\n  font-weight: bold;\r\n  font-style: italic;\r\n}\r\n\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n\r\nfieldset {\r\n  border: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\na {\r\n  color: inherit;\r\n\r\n  color: #0084eb;\r\n  cursor: pointer;\r\n  padding: 0.25em 0.5em;\r\n  text-decoration: none;\r\n  background: none;\r\n}\r\n\r\n.chat-room-module__chat-section__LdYDv > header a {\r\n  display: inline-flex;\r\n  color: inherit;\r\n  padding: 0;\r\n}\r\n\r\n.chat-room-module__chat-app__NBrED *.chat-room-module__link__gfWpT {\r\n  color: #0084eb;\r\n  cursor: pointer;\r\n  padding: 0.25em 0.5em;\r\n  text-decoration: none;\r\n  background: none;\r\n}\r\n\r\n@keyframes chat-room-module__rotation__ExsHv {\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\na:hover,\r\n.chat-room-module__chat-app__NBrED *.chat-room-module__link__gfWpT:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\nul {\r\n  padding-left: 5px;\r\n}\r\n\r\n[type="text"],\r\n[type="password"],\r\n[type="email"],\r\n[type="number"],\r\n[type="range"],\r\n[type="color"] {\r\n  padding: 5px;\r\n  border: 1px solid #ccc;\r\n  margin: 0px;\r\n}\r\n\r\n[type="color"] {\r\n  height: 30px;\r\n  border-radius: 0px;\r\n  padding: 0 3px;\r\n  cursor: pointer;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n}\r\n\r\nlabel [type="file"] {\r\n  display: none;\r\n}\r\n\r\nsvg {\r\n  vertical-align: middle;\r\n  font-size: 1.5em;\r\n}\r\n\r\nblockquote {\r\n  background: #fbfbfb;\r\n  border-left: 0.5em solid #b3b3b3;\r\n  margin: 0.2em;\r\n  padding: 0.7em;\r\n  color: #303030;\r\n  font-size: 16px;\r\n}\r\n\r\n.chat-room-module__chat-app__NBrED svg.chat-room-module__outlined__Zud17 {\r\n  border: 1px solid;\r\n}\r\n\r\n.chat-room-module__bold__krr7t {\r\n  font-weight: bold;\r\n}\r\n\r\n.chat-room-module__hidden__sWNQ9 {\r\n  display: none;\r\n}\r\n\r\n.chat-room-module__badge__S7UAC {\r\n  display: inline-flex;\r\n  background: #3db72e;\r\n  color: white;\r\n  padding: 0.2em 0.5em;\r\n  /* NOTE: Compensate for weird inaccurate padding in Chrome */\r\n  padding-bottom: 0.3em;\r\n  border-radius: 1em;\r\n  font-weight: bold;\r\n  cursor: default;\r\n  margin: 0.3em;\r\n}\r\n\r\n.chat-room-module__loading-placeholder__i44N9,\r\n.chat-room-module__loading__MWpVp,\r\n.chat-room-module__chat-app__NBrED *.chat-room-module__disabled___xJpJ,\r\n.chat-room-module__chat-app__NBrED *[disabled],\r\n.chat-room-module__chat-app__NBrED fieldset[disabled] input,\r\n.chat-room-module__chat-app__NBrED fieldset[disabled] button,\r\n.chat-room-module__chat-app__NBrED fieldset.chat-room-module__disable__ycdft input,\r\n.chat-room-module__chat-app__NBrED fieldset.chat-room-module__disabled___xJpJ button {\r\n  color: grey;\r\n  cursor: default;\r\n}\r\n\r\n.chat-room-module__chat-app__NBrED *.chat-room-module__disabled___xJpJ:hover,\r\n.chat-room-module__chat-app__NBrED fieldset.chat-room-module__disabled___xJpJ *:hover {\r\n  text-decoration: none;\r\n}\r\n\r\n.chat-room-module__loading-placeholder__i44N9,\r\n.chat-room-module__loading__MWpVp {\r\n  position: relative;\r\n  pointer-events: none;\r\n}\r\n\r\n.chat-room-module__loading-placeholder__i44N9 {\r\n  min-width: 1em;\r\n  min-height: 1em;\r\n}\r\n\r\n.chat-room-module__loading-placeholder__i44N9 > * {\r\n  visibility: hidden;\r\n}\r\n\r\n.chat-room-module__loading-placeholder__i44N9::before,\r\n.chat-room-module__loading__MWpVp::after {\r\n  content: "";\r\n  position: absolute;\r\n  margin: auto;\r\n  top: 0px;\r\n  bottom: 0px;\r\n  width: 1em;\r\n  height: 1em;\r\n  margin-left: 0.5em;\r\n  /* border-top: 0.1em solid;\r\n  border-right: 0.2em solid;\r\n  border-bottom: 0.1em solid transparent;\r\n\r\n  animation: rotation 0.9s linear infinite; */\r\n  background-position: center;\r\n  background-image: url('+___CSS_LOADER_URL_REPLACEMENT_4___+');\r\n  background-size: 200%;\r\n}\r\n\r\n.chat-room-module__loading-placeholder__i44N9::before {\r\n  box-sizing: border-box;\r\n  margin-left: auto;\r\n}\r\n\r\n.chat-room-module__errors__UQ6og {\r\n  display: flex;\r\n  flex-direction: column;\r\n  color: red;\r\n  font-size: 0.75em;\r\n}\r\n\r\n.chat-room-module__error-highlight__IJrxU {\r\n  border-color: red;\r\n}\r\n\r\n.chat-room-module__tooltip__oKmZi,\r\n.chat-room-module__info-tooltip__peJby {\r\n  position: relative; /* making the .tooltip span a container for the tooltip text */\r\n}\r\n\r\n.chat-room-module__info-tooltip__peJby::after {\r\n  content: "!";\r\n  position: absolute;\r\n  right: 5px;\r\n\r\n  font-size: 0.8em;\r\n  font-weight: bold;\r\n  color: white;\r\n  background-color: rgb(223 223 223);\r\n  border-radius: 1.2em;\r\n  height: 1.2em;\r\n  width: 1.2em;\r\n  margin: auto;\r\n  top: 0px;\r\n  bottom: 0px;\r\n  pointer-events: none;\r\n}\r\n\r\n.chat-room-module__tooltip__oKmZi::before,\r\n.chat-room-module__info-tooltip__peJby::before {\r\n  content: attr(data-text);\r\n  position: absolute;\r\n  top: -50%;\r\n  transform: translate(-50%, -50%);\r\n  left: 100%;\r\n  width: 200px;\r\n  padding: 6px;\r\n  border-radius: 2px;\r\n  background: #f5f5f5;\r\n  color: #7a7a7a;\r\n  text-align: center;\r\n  font-size: 0.8em;\r\n  border: 1px solid;\r\n\r\n  display: none; /* hide by default */\r\n}\r\n\r\n.chat-room-module__tooltip__oKmZi:hover::before,\r\n.chat-room-module__info-tooltip__peJby:hover::before {\r\n  display: block;\r\n}\r\n\r\n.chat-room-module__yellow__mmwLa {\r\n  color: yellow;\r\n}\r\n\r\n.chat-room-module__number-badge__TPXL6 {\r\n  position: relative;\r\n}\r\n\r\n.chat-room-module__number-badge__TPXL6::after {\r\n  content: attr(data-badge-text);\r\n  position: absolute;\r\n  display: flex;\r\n  color: black;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 0.7em;\r\n  width: 100%;\r\n  height: 100%;\r\n  left: 0px;\r\n  top: 0px;\r\n  margin-top: -1px;\r\n}\r\n\r\n.chat-room-module__slider__tFcww {\r\n  -webkit-appearance: none;\r\n  width: 100%;\r\n  height: 30px;\r\n  background: #d3d3d3;\r\n  outline: none;\r\n}\r\n\r\n.chat-room-module__slider__tFcww::-webkit-slider-thumb {\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n  cursor: pointer;\r\n  margin-top: 35px;\r\n\r\n  width: 0;\r\n  height: 0;\r\n  border-left: 5px solid transparent;\r\n  border-right: 5px solid transparent;\r\n\r\n  border-bottom: 5px solid black;\r\n}\r\n\r\n.chat-room-module__slider__tFcww[disabled]::-webkit-slider-thumb {\r\n  cursor: default;\r\n}\r\n\r\n.chat-room-module__slider__tFcww::-moz-range-thumb {\r\n  cursor: pointer;\r\n  margin-top: 35px;\r\n\r\n  width: 0;\r\n  height: 0;\r\n  border-left: 5px solid transparent;\r\n  border-right: 5px solid transparent;\r\n\r\n  border-bottom: 5px solid black;\r\n}\r\n\r\n.chat-room-module__error__IeUW8 {\r\n  color: red;\r\n  font-size: 0.75em;\r\n}\r\n\r\n.chat-room-module__chat-app__NBrED {\r\n  position: relative;\r\n  margin: 0 auto;\r\n  background-color: black;\r\n  font-family: sans-serif;\r\n  padding: 0 5px 0 5px;\r\n\r\n  position: relative;\r\n\r\n  color: rgb(255, 121, 0);\r\n\r\n  /* NOTE: For testing  */\r\n  /* height: 400px; */\r\n}\r\n\r\n.chat-room-module__chat-app__NBrED {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.chat-room-module__chat-section__LdYDv {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n.chat-room-module__chat-section__LdYDv > header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.chat-room-module__chat-section__LdYDv > header > *,\r\n.chat-room-module__chat-section__LdYDv > footer > * {\r\n  vertical-align: middle;\r\n  display: inline-flex;\r\n  align-items: center;\r\n}\r\n\r\n.chat-room-module__chat-section__LdYDv > header > :first-child > :first-child,\r\n.chat-room-module__chat-section__LdYDv > footer > :first-child > :first-child {\r\n  margin-left: -5px;\r\n}\r\n\r\n.chat-room-module__chat-section__LdYDv > header > :last-child > :last-child,\r\n.chat-room-module__chat-section__LdYDv > footer > :last-child > :last-child {\r\n  margin-right: -5px;\r\n}\r\n\r\n.chat-room-module__chat-section__LdYDv > header > :first-child > :first-child {\r\n  /* NOTE: Compensate for weird inaccurate margin in Firefox  */\r\n  margin-left: -4px;\r\n}\r\n\r\n.chat-room-module__messages-section__YS5YK {\r\n  overflow-y: scroll;\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  flex-grow: 1;\r\n  color: initial;\r\n  margin-bottom: 0.3em;\r\n  width: 100%;\r\n}\r\n\r\n.chat-room-module__messages-section__YS5YK > div > :last-child {\r\n  margin-top: auto;\r\n}\r\n\r\n.chat-room-module__messages-section__YS5YK > div > .chat-room-module__pagination-controls__zrfGL {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.chat-room-module__messages-section__YS5YK > div > .chat-room-module__pagination-controls__zrfGL > button:not(.chat-room-module__alt-button__niT8E) {\r\n  border-radius: 0px;\r\n  border: 1px solid grey;\r\n  flex-basis: 50%;\r\n  flex-grow: 1;\r\n  margin-left: 0;\r\n  margin-right: 0;\r\n}\r\n\r\n[data-format="*"] {\r\n  font-style: italic;\r\n}\r\n\r\n[data-format="**"] {\r\n  font-weight: bold;\r\n}\r\n\r\n[data-format="_"] {\r\n  text-decoration: underline;\r\n}\r\n\r\n.chat-room-module__menu__hPh7u {\r\n  position: absolute;\r\n  right: 0;\r\n  background: white;\r\n  border: 1px solid rgb(222, 222, 222);\r\n  bottom: 1.3em;\r\n  white-space: nowrap;\r\n}\r\n\r\n.chat-room-module__menu__hPh7u > * {\r\n  color: #0084eb;\r\n  cursor: pointer;\r\n  padding: 0.25em 0.5em;\r\n}\r\n\r\n.chat-room-module__menu__hPh7u > *:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.chat-room-module__menu__hPh7u > *:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.chat-room-module__button__xXY30 {\r\n  display: inline-block;\r\n  text-align: center;\r\n  padding: 0.38em;\r\n  white-space: nowrap;\r\n  background-color: #ccc;\r\n  border-radius: 0.25em;\r\n  cursor: pointer;\r\n}\r\n\r\n.chat-room-module__pointer__G4Scn {\r\n  cursor: pointer;\r\n}\r\n\r\n.chat-room-module__chat-controls__ifFFC {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.chat-room-module__chat-controls__ifFFC span {\r\n  vertical-align: middle;\r\n  display: inline-flex;\r\n  align-items: center;\r\n}\r\n\r\nsvg.chat-room-module__chat-bubble-icon__Dfqco {\r\n  height: 0.8em;\r\n}\r\n\r\nsvg.chat-room-module__gavel-icon__kj4gX {\r\n  font-size: 1.1em;\r\n  width: 1.5em;\r\n  padding: 0 0.25em;\r\n}\r\n\r\n.chat-room-module__dialog__Jr9Ri {\r\n  background: white;\r\n  border: 1px solid rgb(222, 222, 222);\r\n  color: black;\r\n  padding: 13px;\r\n  font-size: 0.85em;\r\n\r\n  position: absolute;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  left: 0;\r\n  right: 0;\r\n  width: 370px;\r\n  max-width: 100%;\r\n  z-index: 1;\r\n}\r\n\r\n.chat-room-module__dialog__Jr9Ri header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 1.3em;\r\n}\r\n\r\n.chat-room-module__dialog__Jr9Ri header svg {\r\n  font-size: 1rem;\r\n  cursor: pointer;\r\n}\r\n\r\n.chat-room-module__dialog__Jr9Ri header {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.chat-room-module__dialog__Jr9Ri ul {\r\n  margin: 5px 0px;\r\n  padding-left: 0px;\r\n}\r\n\r\n.chat-room-module__dialog__Jr9Ri main ul li {\r\n  padding: 3px 0px;\r\n}\r\n\r\n.chat-room-module__confirm-modal__JqA0Q footer {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.chat-room-module__premium-dialog__VFlBX label {\r\n  display: block;\r\n}\r\n\r\n.chat-room-module__premium-dialog__VFlBX section {\r\n  margin: 1em 2em;\r\n}\r\n\r\n.chat-room-module__premium-dialog__VFlBX li:last-child span {\r\n  color: green;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  font-size: 0.8em;\r\n}\r\n\r\n.chat-room-module__premium-dialog__VFlBX li > label {\r\n  position: relative;\r\n}\r\n\r\n.chat-room-module__premium-dialog__VFlBX label > svg {\r\n  position: absolute;\r\n  margin-left: -1.1em;\r\n  font-size: 1em;\r\n  color: red;\r\n  margin-top: auto;\r\n  margin-bottom: auto;\r\n  top: 0;\r\n  bottom: 0;\r\n}\r\n\r\n.chat-room-module__error-dialog__ajcmQ .chat-room-module__error__IeUW8 {\r\n  font-size: 1em;\r\n}\r\n\r\n.chat-room-module__profile-editor__CFJrI svg {\r\n  vertical-align: middle;\r\n}\r\n\r\n.chat-room-module__unread-conversation__wNKJL {\r\n  font-weight: bold;\r\n}\r\n\r\n.chat-room-module__moderators__S6WIn main > div {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.chat-room-module__mod-action-log__KE8w1 main > div {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 5px;\r\n}\r\n\r\n.chat-room-module__message-style-editor___lXsg label {\r\n  display: inline-block;\r\n  margin-top: 5px;\r\n}\r\n\r\n.chat-room-module__message-style-editor___lXsg > label {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.chat-room-module__message-style-editor___lXsg label > * {\r\n  width: 100%;\r\n  max-width: 50%;\r\n}\r\n\r\n.chat-room-module__profile-editor__CFJrI img,\r\n.chat-room-module__profile-editor__CFJrI svg {\r\n  cursor: pointer;\r\n}\r\n\r\n::-webkit-scrollbar {\r\n  width: 14px;\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: rgb(226, 226, 226);\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background: rgb(255, 121, 0);\r\n}\r\n\r\n.chat-room-module__chat-room-overlay__j2CjY {\r\n  display: flex;\r\n  position: absolute;\r\n  align-items: center;\r\n  justify-content: center;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.chat-room-module__overlay-message__GWk9p {\r\n  background: rgb(240, 240, 240);\r\n  color: rgb(24, 23, 23);\r\n  padding: 10px;\r\n  border-radius: 3px;\r\n  text-align: center;\r\n}\r\n\r\n.chat-room-module__message-form__wxbHo {\r\n  display: flex;\r\n  font-size: 1.5rem;\r\n  align-items: stretch;\r\n  width: 100%;\r\n  z-index: 0;\r\n}\r\n\r\n.chat-room-module__message-form__wxbHo > * {\r\n  display: flex;\r\n  align-items: stretch;\r\n}\r\n\r\n.chat-room-module__message-form__wxbHo > * {\r\n  display: flex;\r\n  align-items: center;\r\n  /* To fix the weird extra space around svgs */\r\n  line-height: 10px;\r\n}\r\n\r\n.chat-room-module__message-form__wxbHo button {\r\n  width: 20%;\r\n  background-color: rgb(56, 56, 143);\r\n}\r\n\r\n.chat-room-module__message-form__wxbHo svg {\r\n  /* NOTE: Placeholder */\r\n  border: 1px solid black;\r\n  background: black;\r\n  height: auto;\r\n}\r\n\r\n.chat-room-module__camera-icon__rHrJO {\r\n  margin-right: 2px;\r\n}\r\n\r\n.chat-room-module__format-controls__kyHgT {\r\n  font-size: 0.8em;\r\n  display: flex;\r\n  height: 1.5em;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  margin-bottom: 0.3em;\r\n}\r\n\r\n.chat-room-module__format-controls__kyHgT svg {\r\n  font-size: 1.2em;\r\n}\r\n\r\n.chat-room-module__format-controls__kyHgT > *:not(.chat-room-module__menu__hPh7u) {\r\n  cursor: pointer;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  text-align: center;\r\n  display: flex;\r\n  position: relative;\r\n}\r\n\r\n.chat-room-module__format-controls__kyHgT * {\r\n  vertical-align: middle;\r\n}\r\n\r\n.chat-room-module__format-controls__kyHgT .chat-room-module__down-arrow__WN9rf {\r\n  margin-left: -1px;\r\n  margin-right: -7px;\r\n}\r\n\r\n.chat-room-module__format-controls__kyHgT > em {\r\n  font-family: "Times New Roman", Times, serif;\r\n  font-size: 0.9em;\r\n}\r\n\r\n.chat-room-module__font-color__vz8XY > :nth-child(2) {\r\n  color: rgb(255, 121, 0);\r\n}\r\n\r\n.chat-room-module__font-color__vz8XY > :nth-child(1) {\r\n  fill-opacity: 1;\r\n}\r\n\r\n.chat-room-module__input-wrapper__PifqW {\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\ntextarea {\r\n  width: 100%;\r\n  height: 100%;\r\n  font-size: 1rem;\r\n  background: none;\r\n  outline: none;\r\n  border: 2px solid #131313;\r\n  padding: 10px 15px;\r\n  margin: 0;\r\n  font-family: sans-serif;\r\n  resize: none;\r\n  background-size: 30% auto;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\ntextarea:focus {\r\n  border-color: #303030;\r\n}\r\n\r\ntextarea.chat-room-module__loading__MWpVp {\r\n  background: rgba(0, 0, 0, 0.3);\r\n}\r\n\r\ntextarea.chat-room-module__error-flash__TFkCr {\r\n  animation-name: chat-room-module__error-flash__TFkCr;\r\n  animation-duration: 0.5s;\r\n}\r\n\r\n@keyframes chat-room-module__error-flash__TFkCr {\r\n  from {\r\n    background-color: red;\r\n    border-color: red;\r\n  }\r\n  to {\r\n  }\r\n}\r\n\r\nbutton {\r\n  /* background-color: #282c34;\r\n  border: none;\r\n  color: white;\r\n  padding: 15px 32px;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  display: inline-block;\r\n  cursor: pointer;\r\n  font-size: 1.25rem; */\r\n\r\n  display: inline-block;\r\n  text-align: center;\r\n  padding: 0.38em;\r\n  white-space: nowrap;\r\n  background-color: #ccc;\r\n  border-radius: 0.25em;\r\n  cursor: pointer;\r\n  border: 0;\r\n}\r\n\r\nbutton + button:not(.chat-room-module__alt-button__niT8E) {\r\n  margin-left: 0.3em;\r\n}\r\n\r\n/* button:not(:last-child) {\r\n  margin-right: 0.3em;\r\n} */\r\n\r\nbutton:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.chat-room-module__chat-section__LdYDv > header > * > a,\r\nbutton.chat-room-module__alt-button__niT8E {\r\n  display: inline-block;\r\n  text-align: center;\r\n  padding: 0.38em;\r\n  white-space: nowrap;\r\n  border-radius: 0;\r\n  cursor: pointer;\r\n  border: 0;\r\n\r\n  color: inherit;\r\n  background: none;\r\n  font-size: inherit;\r\n}\r\n\r\n.chat-room-module__login-form__r1uGy button {\r\n  color: #282c34;\r\n}\r\n\r\n.chat-room-module__login-form__r1uGy,\r\n.chat-room-module__login-form__r1uGy fieldset {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  width: 100%;\r\n  max-width: 300px;\r\n  text-align: center;\r\n  border: 0;\r\n}\r\n\r\n.chat-room-module__login-form__r1uGy fieldset > * {\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.chat-room-module__login-form__r1uGy input {\r\n  width: 100%;\r\n}\r\n\r\nul,\r\nli {\r\n  text-align: left;\r\n  list-style: none;\r\n}\r\n\r\n.chat-room-module__message__QU1qe {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  background: white;\r\n  border-top: 1px solid;\r\n  font-size: 0.9rem;\r\n  padding: 0 5px;\r\n  background-size: 30% auto;\r\n  z-index: 0;\r\n}\r\n\r\n.chat-room-module__messages-section__YS5YK.chat-room-module__stick-to-bottom__Zxg9K .chat-room-module__message__QU1qe {\r\n  /* NOTE: Required to fix the bug where chat sometimes stops snapping/scrolling to bottom */\r\n  overflow-anchor: none;\r\n}\r\n\r\n/* NOTE: Specifity required */\r\n.chat-room-module__chat-app__NBrED .chat-room-module__message-background-image__ROO8E {\r\n  position: absolute;\r\n  background-size: 30% auto;\r\n  width: 100%;\r\n  height: 100%;\r\n  left: 0px;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  z-index: -1;\r\n}\r\n\r\n.chat-room-module__input-wrapper__PifqW .chat-room-module__message-background-image__ROO8E {\r\n  z-index: 1;\r\n}\r\n\r\n.chat-room-module__sample-message-wrapper__DETha .chat-room-module__message__QU1qe {\r\n  border-bottom: 1px solid;\r\n}\r\n\r\n.chat-room-module__sample-message-wrapper__DETha {\r\n  background: black;\r\n}\r\n\r\n.chat-room-module__message-username__ZtOBm {\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  font-weight: bold;\r\n  vertical-align: middle;\r\n  font-size: 10pt;\r\n}\r\n\r\n.chat-room-module__message-contents__GIugi {\r\n  margin-left: 5px;\r\n  padding-top: 15px;\r\n  padding-bottom: 5px;\r\n  width: 100%;\r\n  max-height: 300px;\r\n  overflow: hidden;\r\n}\r\n\r\n.chat-room-module__message-contents__GIugi a {\r\n  padding: 0px;\r\n}\r\n\r\n.chat-room-module__message-contents__GIugi .chat-room-module__mention__xQPdg {\r\n  background: #817c4c;\r\n  padding: 0.15em 0.3em 0.2em;\r\n  border-radius: 0.3em;\r\n  color: #ffffff;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  font-size: 0.9rem;\r\n  font-weight: bold;\r\n}\r\n\r\n.chat-room-module__message-contents__GIugi ul,\r\n.chat-room-module__message-contents__GIugi ol {\r\n  padding-left: 0.5em;\r\n  margin: 0.3em 0px;\r\n}\r\n\r\n.chat-room-module__message-contents__GIugi ol li {\r\n  list-style: decimal inside;\r\n}\r\n\r\n.chat-room-module__message-contents__GIugi ul li {\r\n  list-style: disc inside;\r\n}\r\n\r\n.chat-room-module__message-contents__GIugi li::marker {\r\n  margin-right: 0px;\r\n}\r\n\r\n.chat-room-module__message-contents__GIugi code {\r\n  white-space: pre-wrap;\r\n}\r\n\r\n.chat-room-module__message__QU1qe > .chat-room-module__badge__S7UAC {\r\n  position: absolute;\r\n  top: 31px;\r\n  left: 16px;\r\n  margin: 0;\r\n}\r\n\r\n.chat-room-module__message__QU1qe > div {\r\n  position: relative;\r\n  margin-left: 5px;\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n\r\n.chat-room-module__message__QU1qe > div.chat-room-module__expanded__Rv3Sy {\r\n  /* To make room for "show less" button */\r\n  padding-bottom: 1em;\r\n}\r\n\r\n.chat-room-module__message__QU1qe p {\r\n  /* Allow line breaks  */\r\n  white-space: pre-wrap;\r\n  word-break: break-word;\r\n  margin: 0px;\r\n  display: inline;\r\n  /* NOTE: This may screw something up  */\r\n  vertical-align: middle;\r\n}\r\n\r\n.chat-room-module__message__QU1qe .chat-room-module__show-more__t65av,\r\n.chat-room-module__message__QU1qe .chat-room-module__show-less__ylXZb {\r\n  background: #fff;\r\n  bottom: 0;\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content: center;\r\n  padding-bottom: 0.1em;\r\n  /* padding-top: 1em; */\r\n  position: absolute;\r\n  width: 100%;\r\n  border-radius: 15px;\r\n  box-shadow: 0px 0px 5px;\r\n}\r\n\r\n.chat-room-module__message__QU1qe img {\r\n  max-width: 100%;\r\n  max-height: 120px;\r\n}\r\n\r\n.chat-room-module__message__QU1qe .chat-room-module__mention-highlight__tYrBF {\r\n  position: absolute;\r\n  left: 0px;\r\n  width: 0px;\r\n  margin: 0px;\r\n}\r\n\r\n.chat-room-module__message__QU1qe.chat-room-module__mention__xQPdg .chat-room-module__mention-highlight__tYrBF {\r\n  border-left: 5px solid rgb(255, 204, 0);\r\n}\r\n\r\n.chat-room-module__message-details__M1xyM {\r\n  position: absolute;\r\n  display: flex;\r\n  top: 0px;\r\n  right: 0px;\r\n  font-size: 0.75rem;\r\n  padding: 5px;\r\n}\r\n.chat-room-module__message-details__M1xyM svg {\r\n  width: 75%;\r\n  height: 75%;\r\n}\r\n\r\n.chat-room-module__message-timestamp__pyF_5 {\r\n  /* width: 100%; */\r\n  opacity: 0.7;\r\n  font-size: 0.7em;\r\n}\r\n\r\n.chat-room-module__message-details__M1xyM > * {\r\n  vertical-align: middle;\r\n}\r\n\r\n.chat-room-module__message__QU1qe button {\r\n  width: 15px;\r\n  height: 15px;\r\n  padding: 0;\r\n  font-size: 10px;\r\n  background: none;\r\n  color: black;\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.chat-room-module__message__QU1qe button:hover {\r\n  background: red;\r\n  color: white;\r\n}\r\n\r\n.chat-room-module__sent__rQf84 {\r\n  /* flex-direction: row-reverse; */\r\n}\r\n\r\n.chat-room-module__sent__rQf84 p {\r\n  /* align-self: flex-end; */\r\n}\r\n\r\n.chat-room-module__received__L0jzT p {\r\n}\r\n\r\n/* NOTE: Specificity required for priority */\r\n.chat-room-module__chat-app__NBrED .chat-room-module__avatar__H3F8T {\r\n  height: 40px;\r\n  width: 40px;\r\n  /* NOTE: Required, for some reason */\r\n  min-height: 40px;\r\n  min-width: 40px;\r\n  margin-top: 5px;\r\n  margin-bottom: 5px;\r\n  border: 1px solid gray;\r\n  vertical-align: middle;\r\n}\r\n\r\n.chat-room-module__is-dragged-on__ut5JV > * {\r\n  pointer-events: none;\r\n}\r\n\r\n.chat-room-module__file-drag-overlay__bQ8mx {\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  top: 0px;\r\n  bottom: 0px;\r\n  right: 0px;\r\n  left: 0px;\r\n  pointer-events: initial;\r\n  font-size: 5em;\r\n}\r\n\r\n.chat-room-module__file-drag-overlay__bQ8mx * {\r\n  pointer-events: none;\r\n}\r\n\r\n.chat-room-module__file-drag-overlay__bQ8mx.chat-room-module__loading__MWpVp::after {\r\n  position: initial;\r\n  margin: 0px;\r\n}\r\n\r\n.chat-room-module__file-drag-overlay__bQ8mx > div {\r\n  position: absolute;\r\n  top: 0px;\r\n  bottom: 0px;\r\n  right: 0px;\r\n  left: 0px;\r\n  background: rgba(0, 0, 0, 0.356);\r\n  background: rgba(0, 0, 0, 0.356);\r\n  border-radius: 0.1em;\r\n  border: 2px dashed black;\r\n  margin: 0.2em;\r\n}\r\n',"",{version:3,sources:["webpack://./src/css/chat-room.module.css"],names:[],mappings:"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",sourcesContent:['@font-face {\r\n  font-family: "Comic Sans MS Custom";\r\n  src: url("comic-sans-ms.ttf");\r\n}\r\n\r\n@font-face {\r\n  font-family: "Comic Sans MS Custom";\r\n  src: url("comic-sans-ms-bold.ttf");\r\n  font-weight: bold;\r\n}\r\n\r\n@font-face {\r\n  font-family: "Comic Sans MS Custom";\r\n  src: url("comic-sans-ms-italic.ttf");\r\n  font-style: italic;\r\n}\r\n\r\n@font-face {\r\n  font-family: "Comic Sans MS Custom";\r\n  src: url("comic-sans-ms-bold-italic.ttf");\r\n  font-weight: bold;\r\n  font-style: italic;\r\n}\r\n\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n\r\nfieldset {\r\n  border: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\na {\r\n  color: inherit;\r\n\r\n  color: #0084eb;\r\n  cursor: pointer;\r\n  padding: 0.25em 0.5em;\r\n  text-decoration: none;\r\n  background: none;\r\n}\r\n\r\n.chat-section > header a {\r\n  display: inline-flex;\r\n  color: inherit;\r\n  padding: 0;\r\n}\r\n\r\n.chat-app *.link {\r\n  color: #0084eb;\r\n  cursor: pointer;\r\n  padding: 0.25em 0.5em;\r\n  text-decoration: none;\r\n  background: none;\r\n}\r\n\r\n@keyframes rotation {\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\na:hover,\r\n.chat-app *.link:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\nul {\r\n  padding-left: 5px;\r\n}\r\n\r\n[type="text"],\r\n[type="password"],\r\n[type="email"],\r\n[type="number"],\r\n[type="range"],\r\n[type="color"] {\r\n  padding: 5px;\r\n  border: 1px solid #ccc;\r\n  margin: 0px;\r\n}\r\n\r\n[type="color"] {\r\n  height: 30px;\r\n  border-radius: 0px;\r\n  padding: 0 3px;\r\n  cursor: pointer;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n}\r\n\r\nlabel [type="file"] {\r\n  display: none;\r\n}\r\n\r\nsvg {\r\n  vertical-align: middle;\r\n  font-size: 1.5em;\r\n}\r\n\r\nblockquote {\r\n  background: #fbfbfb;\r\n  border-left: 0.5em solid #b3b3b3;\r\n  margin: 0.2em;\r\n  padding: 0.7em;\r\n  color: #303030;\r\n  font-size: 16px;\r\n}\r\n\r\n.chat-app svg.outlined {\r\n  border: 1px solid;\r\n}\r\n\r\n.bold {\r\n  font-weight: bold;\r\n}\r\n\r\n.hidden {\r\n  display: none;\r\n}\r\n\r\n.badge {\r\n  display: inline-flex;\r\n  background: #3db72e;\r\n  color: white;\r\n  padding: 0.2em 0.5em;\r\n  /* NOTE: Compensate for weird inaccurate padding in Chrome */\r\n  padding-bottom: 0.3em;\r\n  border-radius: 1em;\r\n  font-weight: bold;\r\n  cursor: default;\r\n  margin: 0.3em;\r\n}\r\n\r\n.loading-placeholder,\r\n.loading,\r\n.chat-app *.disabled,\r\n.chat-app *[disabled],\r\n.chat-app fieldset[disabled] input,\r\n.chat-app fieldset[disabled] button,\r\n.chat-app fieldset.disable input,\r\n.chat-app fieldset.disabled button {\r\n  color: grey;\r\n  cursor: default;\r\n}\r\n\r\n.chat-app *.disabled:hover,\r\n.chat-app fieldset.disabled *:hover {\r\n  text-decoration: none;\r\n}\r\n\r\n.loading-placeholder,\r\n.loading {\r\n  position: relative;\r\n  pointer-events: none;\r\n}\r\n\r\n.loading-placeholder {\r\n  min-width: 1em;\r\n  min-height: 1em;\r\n}\r\n\r\n.loading-placeholder > * {\r\n  visibility: hidden;\r\n}\r\n\r\n.loading-placeholder::before,\r\n.loading::after {\r\n  content: "";\r\n  position: absolute;\r\n  margin: auto;\r\n  top: 0px;\r\n  bottom: 0px;\r\n  width: 1em;\r\n  height: 1em;\r\n  margin-left: 0.5em;\r\n  /* border-top: 0.1em solid;\r\n  border-right: 0.2em solid;\r\n  border-bottom: 0.1em solid transparent;\r\n\r\n  animation: rotation 0.9s linear infinite; */\r\n  background-position: center;\r\n  background-image: url("./loading-spinner.svg");\r\n  background-size: 200%;\r\n}\r\n\r\n.loading-placeholder::before {\r\n  box-sizing: border-box;\r\n  margin-left: auto;\r\n}\r\n\r\n.errors {\r\n  display: flex;\r\n  flex-direction: column;\r\n  color: red;\r\n  font-size: 0.75em;\r\n}\r\n\r\n.error-highlight {\r\n  border-color: red;\r\n}\r\n\r\n.tooltip,\r\n.info-tooltip {\r\n  position: relative; /* making the .tooltip span a container for the tooltip text */\r\n}\r\n\r\n.info-tooltip::after {\r\n  content: "!";\r\n  position: absolute;\r\n  right: 5px;\r\n\r\n  font-size: 0.8em;\r\n  font-weight: bold;\r\n  color: white;\r\n  background-color: rgb(223 223 223);\r\n  border-radius: 1.2em;\r\n  height: 1.2em;\r\n  width: 1.2em;\r\n  margin: auto;\r\n  top: 0px;\r\n  bottom: 0px;\r\n  pointer-events: none;\r\n}\r\n\r\n.tooltip::before,\r\n.info-tooltip::before {\r\n  content: attr(data-text);\r\n  position: absolute;\r\n  top: -50%;\r\n  transform: translate(-50%, -50%);\r\n  left: 100%;\r\n  width: 200px;\r\n  padding: 6px;\r\n  border-radius: 2px;\r\n  background: #f5f5f5;\r\n  color: #7a7a7a;\r\n  text-align: center;\r\n  font-size: 0.8em;\r\n  border: 1px solid;\r\n\r\n  display: none; /* hide by default */\r\n}\r\n\r\n.tooltip:hover::before,\r\n.info-tooltip:hover::before {\r\n  display: block;\r\n}\r\n\r\n.yellow {\r\n  color: yellow;\r\n}\r\n\r\n.number-badge {\r\n  position: relative;\r\n}\r\n\r\n.number-badge::after {\r\n  content: attr(data-badge-text);\r\n  position: absolute;\r\n  display: flex;\r\n  color: black;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 0.7em;\r\n  width: 100%;\r\n  height: 100%;\r\n  left: 0px;\r\n  top: 0px;\r\n  margin-top: -1px;\r\n}\r\n\r\n.slider {\r\n  -webkit-appearance: none;\r\n  width: 100%;\r\n  height: 30px;\r\n  background: #d3d3d3;\r\n  outline: none;\r\n}\r\n\r\n.slider::-webkit-slider-thumb {\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n  cursor: pointer;\r\n  margin-top: 35px;\r\n\r\n  width: 0;\r\n  height: 0;\r\n  border-left: 5px solid transparent;\r\n  border-right: 5px solid transparent;\r\n\r\n  border-bottom: 5px solid black;\r\n}\r\n\r\n.slider[disabled]::-webkit-slider-thumb {\r\n  cursor: default;\r\n}\r\n\r\n.slider::-moz-range-thumb {\r\n  cursor: pointer;\r\n  margin-top: 35px;\r\n\r\n  width: 0;\r\n  height: 0;\r\n  border-left: 5px solid transparent;\r\n  border-right: 5px solid transparent;\r\n\r\n  border-bottom: 5px solid black;\r\n}\r\n\r\n.error {\r\n  color: red;\r\n  font-size: 0.75em;\r\n}\r\n\r\n.chat-app {\r\n  position: relative;\r\n  margin: 0 auto;\r\n  background-color: black;\r\n  font-family: sans-serif;\r\n  padding: 0 5px 0 5px;\r\n\r\n  position: relative;\r\n\r\n  color: rgb(255, 121, 0);\r\n\r\n  /* NOTE: For testing  */\r\n  /* height: 400px; */\r\n}\r\n\r\n.chat-app {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.chat-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n.chat-section > header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.chat-section > header > *,\r\n.chat-section > footer > * {\r\n  vertical-align: middle;\r\n  display: inline-flex;\r\n  align-items: center;\r\n}\r\n\r\n.chat-section > header > :first-child > :first-child,\r\n.chat-section > footer > :first-child > :first-child {\r\n  margin-left: -5px;\r\n}\r\n\r\n.chat-section > header > :last-child > :last-child,\r\n.chat-section > footer > :last-child > :last-child {\r\n  margin-right: -5px;\r\n}\r\n\r\n.chat-section > header > :first-child > :first-child {\r\n  /* NOTE: Compensate for weird inaccurate margin in Firefox  */\r\n  margin-left: -4px;\r\n}\r\n\r\n.messages-section {\r\n  overflow-y: scroll;\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  flex-grow: 1;\r\n  color: initial;\r\n  margin-bottom: 0.3em;\r\n  width: 100%;\r\n}\r\n\r\n.messages-section > div > :last-child {\r\n  margin-top: auto;\r\n}\r\n\r\n.messages-section > div > .pagination-controls {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.messages-section > div > .pagination-controls > button:not(.alt-button) {\r\n  border-radius: 0px;\r\n  border: 1px solid grey;\r\n  flex-basis: 50%;\r\n  flex-grow: 1;\r\n  margin-left: 0;\r\n  margin-right: 0;\r\n}\r\n\r\n[data-format="*"] {\r\n  font-style: italic;\r\n}\r\n\r\n[data-format="**"] {\r\n  font-weight: bold;\r\n}\r\n\r\n[data-format="_"] {\r\n  text-decoration: underline;\r\n}\r\n\r\n.menu {\r\n  position: absolute;\r\n  right: 0;\r\n  background: white;\r\n  border: 1px solid rgb(222, 222, 222);\r\n  bottom: 1.3em;\r\n  white-space: nowrap;\r\n}\r\n\r\n.menu > * {\r\n  color: #0084eb;\r\n  cursor: pointer;\r\n  padding: 0.25em 0.5em;\r\n}\r\n\r\n.menu > *:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.menu > *:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.button {\r\n  display: inline-block;\r\n  text-align: center;\r\n  padding: 0.38em;\r\n  white-space: nowrap;\r\n  background-color: #ccc;\r\n  border-radius: 0.25em;\r\n  cursor: pointer;\r\n}\r\n\r\n.pointer {\r\n  cursor: pointer;\r\n}\r\n\r\n.chat-controls {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.chat-controls span {\r\n  vertical-align: middle;\r\n  display: inline-flex;\r\n  align-items: center;\r\n}\r\n\r\nsvg.chat-bubble-icon {\r\n  height: 0.8em;\r\n}\r\n\r\nsvg.gavel-icon {\r\n  font-size: 1.1em;\r\n  width: 1.5em;\r\n  padding: 0 0.25em;\r\n}\r\n\r\n.dialog {\r\n  background: white;\r\n  border: 1px solid rgb(222, 222, 222);\r\n  color: black;\r\n  padding: 13px;\r\n  font-size: 0.85em;\r\n\r\n  position: absolute;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  left: 0;\r\n  right: 0;\r\n  width: 370px;\r\n  max-width: 100%;\r\n  z-index: 1;\r\n}\r\n\r\n.dialog header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 1.3em;\r\n}\r\n\r\n.dialog header svg {\r\n  font-size: 1rem;\r\n  cursor: pointer;\r\n}\r\n\r\n.dialog header {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.dialog ul {\r\n  margin: 5px 0px;\r\n  padding-left: 0px;\r\n}\r\n\r\n.dialog main ul li {\r\n  padding: 3px 0px;\r\n}\r\n\r\n.confirm-modal footer {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.premium-dialog label {\r\n  display: block;\r\n}\r\n\r\n.premium-dialog section {\r\n  margin: 1em 2em;\r\n}\r\n\r\n.premium-dialog li:last-child span {\r\n  color: green;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  font-size: 0.8em;\r\n}\r\n\r\n.premium-dialog li > label {\r\n  position: relative;\r\n}\r\n\r\n.premium-dialog label > svg {\r\n  position: absolute;\r\n  margin-left: -1.1em;\r\n  font-size: 1em;\r\n  color: red;\r\n  margin-top: auto;\r\n  margin-bottom: auto;\r\n  top: 0;\r\n  bottom: 0;\r\n}\r\n\r\n.error-dialog .error {\r\n  font-size: 1em;\r\n}\r\n\r\n.profile-editor svg {\r\n  vertical-align: middle;\r\n}\r\n\r\n.unread-conversation {\r\n  font-weight: bold;\r\n}\r\n\r\n.moderators main > div {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.mod-action-log main > div {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 5px;\r\n}\r\n\r\n.message-style-editor label {\r\n  display: inline-block;\r\n  margin-top: 5px;\r\n}\r\n\r\n.message-style-editor > label {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.message-style-editor label > * {\r\n  width: 100%;\r\n  max-width: 50%;\r\n}\r\n\r\n.profile-editor img,\r\n.profile-editor svg {\r\n  cursor: pointer;\r\n}\r\n\r\n::-webkit-scrollbar {\r\n  width: 14px;\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: rgb(226, 226, 226);\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background: rgb(255, 121, 0);\r\n}\r\n\r\n.chat-room-overlay {\r\n  display: flex;\r\n  position: absolute;\r\n  align-items: center;\r\n  justify-content: center;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.overlay-message {\r\n  background: rgb(240, 240, 240);\r\n  color: rgb(24, 23, 23);\r\n  padding: 10px;\r\n  border-radius: 3px;\r\n  text-align: center;\r\n}\r\n\r\n.message-form {\r\n  display: flex;\r\n  font-size: 1.5rem;\r\n  align-items: stretch;\r\n  width: 100%;\r\n  z-index: 0;\r\n}\r\n\r\n.message-form > * {\r\n  display: flex;\r\n  align-items: stretch;\r\n}\r\n\r\n.message-form > * {\r\n  display: flex;\r\n  align-items: center;\r\n  /* To fix the weird extra space around svgs */\r\n  line-height: 10px;\r\n}\r\n\r\n.message-form button {\r\n  width: 20%;\r\n  background-color: rgb(56, 56, 143);\r\n}\r\n\r\n.message-form svg {\r\n  /* NOTE: Placeholder */\r\n  border: 1px solid black;\r\n  background: black;\r\n  height: auto;\r\n}\r\n\r\n.camera-icon {\r\n  margin-right: 2px;\r\n}\r\n\r\n.format-controls {\r\n  font-size: 0.8em;\r\n  display: flex;\r\n  height: 1.5em;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  margin-bottom: 0.3em;\r\n}\r\n\r\n.format-controls svg {\r\n  font-size: 1.2em;\r\n}\r\n\r\n.format-controls > *:not(.menu) {\r\n  cursor: pointer;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  text-align: center;\r\n  display: flex;\r\n  position: relative;\r\n}\r\n\r\n.format-controls * {\r\n  vertical-align: middle;\r\n}\r\n\r\n.format-controls .down-arrow {\r\n  margin-left: -1px;\r\n  margin-right: -7px;\r\n}\r\n\r\n.format-controls > em {\r\n  font-family: "Times New Roman", Times, serif;\r\n  font-size: 0.9em;\r\n}\r\n\r\n.font-color > :nth-child(2) {\r\n  color: rgb(255, 121, 0);\r\n}\r\n\r\n.font-color > :nth-child(1) {\r\n  fill-opacity: 1;\r\n}\r\n\r\n.input-wrapper {\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\ntextarea {\r\n  width: 100%;\r\n  height: 100%;\r\n  font-size: 1rem;\r\n  background: none;\r\n  outline: none;\r\n  border: 2px solid #131313;\r\n  padding: 10px 15px;\r\n  margin: 0;\r\n  font-family: sans-serif;\r\n  resize: none;\r\n  background-size: 30% auto;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\ntextarea:focus {\r\n  border-color: #303030;\r\n}\r\n\r\ntextarea.loading {\r\n  background: rgba(0, 0, 0, 0.3);\r\n}\r\n\r\ntextarea.error-flash {\r\n  animation-name: error-flash;\r\n  animation-duration: 0.5s;\r\n}\r\n\r\n@keyframes error-flash {\r\n  from {\r\n    background-color: red;\r\n    border-color: red;\r\n  }\r\n  to {\r\n  }\r\n}\r\n\r\nbutton {\r\n  /* background-color: #282c34;\r\n  border: none;\r\n  color: white;\r\n  padding: 15px 32px;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  display: inline-block;\r\n  cursor: pointer;\r\n  font-size: 1.25rem; */\r\n\r\n  display: inline-block;\r\n  text-align: center;\r\n  padding: 0.38em;\r\n  white-space: nowrap;\r\n  background-color: #ccc;\r\n  border-radius: 0.25em;\r\n  cursor: pointer;\r\n  border: 0;\r\n}\r\n\r\nbutton + button:not(.alt-button) {\r\n  margin-left: 0.3em;\r\n}\r\n\r\n/* button:not(:last-child) {\r\n  margin-right: 0.3em;\r\n} */\r\n\r\nbutton:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.chat-section > header > * > a,\r\nbutton.alt-button {\r\n  display: inline-block;\r\n  text-align: center;\r\n  padding: 0.38em;\r\n  white-space: nowrap;\r\n  border-radius: 0;\r\n  cursor: pointer;\r\n  border: 0;\r\n\r\n  color: inherit;\r\n  background: none;\r\n  font-size: inherit;\r\n}\r\n\r\n.login-form button {\r\n  color: #282c34;\r\n}\r\n\r\n.login-form,\r\n.login-form fieldset {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  width: 100%;\r\n  max-width: 300px;\r\n  text-align: center;\r\n  border: 0;\r\n}\r\n\r\n.login-form fieldset > * {\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.login-form input {\r\n  width: 100%;\r\n}\r\n\r\nul,\r\nli {\r\n  text-align: left;\r\n  list-style: none;\r\n}\r\n\r\n.message {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  background: white;\r\n  border-top: 1px solid;\r\n  font-size: 0.9rem;\r\n  padding: 0 5px;\r\n  background-size: 30% auto;\r\n  z-index: 0;\r\n}\r\n\r\n.messages-section.stick-to-bottom .message {\r\n  /* NOTE: Required to fix the bug where chat sometimes stops snapping/scrolling to bottom */\r\n  overflow-anchor: none;\r\n}\r\n\r\n/* NOTE: Specifity required */\r\n.chat-app .message-background-image {\r\n  position: absolute;\r\n  background-size: 30% auto;\r\n  width: 100%;\r\n  height: 100%;\r\n  left: 0px;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  z-index: -1;\r\n}\r\n\r\n.input-wrapper .message-background-image {\r\n  z-index: 1;\r\n}\r\n\r\n.sample-message-wrapper .message {\r\n  border-bottom: 1px solid;\r\n}\r\n\r\n.sample-message-wrapper {\r\n  background: black;\r\n}\r\n\r\n.message-username {\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  font-weight: bold;\r\n  vertical-align: middle;\r\n  font-size: 10pt;\r\n}\r\n\r\n.message-contents {\r\n  margin-left: 5px;\r\n  padding-top: 15px;\r\n  padding-bottom: 5px;\r\n  width: 100%;\r\n  max-height: 300px;\r\n  overflow: hidden;\r\n}\r\n\r\n.message-contents a {\r\n  padding: 0px;\r\n}\r\n\r\n.message-contents .mention {\r\n  background: #817c4c;\r\n  padding: 0.15em 0.3em 0.2em;\r\n  border-radius: 0.3em;\r\n  color: #ffffff;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  font-size: 0.9rem;\r\n  font-weight: bold;\r\n}\r\n\r\n.message-contents ul,\r\n.message-contents ol {\r\n  padding-left: 0.5em;\r\n  margin: 0.3em 0px;\r\n}\r\n\r\n.message-contents ol li {\r\n  list-style: decimal inside;\r\n}\r\n\r\n.message-contents ul li {\r\n  list-style: disc inside;\r\n}\r\n\r\n.message-contents li::marker {\r\n  margin-right: 0px;\r\n}\r\n\r\n.message-contents code {\r\n  white-space: pre-wrap;\r\n}\r\n\r\n.message > .badge {\r\n  position: absolute;\r\n  top: 31px;\r\n  left: 16px;\r\n  margin: 0;\r\n}\r\n\r\n.message > div {\r\n  position: relative;\r\n  margin-left: 5px;\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n\r\n.message > div.expanded {\r\n  /* To make room for "show less" button */\r\n  padding-bottom: 1em;\r\n}\r\n\r\n.message p {\r\n  /* Allow line breaks  */\r\n  white-space: pre-wrap;\r\n  word-break: break-word;\r\n  margin: 0px;\r\n  display: inline;\r\n  /* NOTE: This may screw something up  */\r\n  vertical-align: middle;\r\n}\r\n\r\n.message .show-more,\r\n.message .show-less {\r\n  background: #fff;\r\n  bottom: 0;\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content: center;\r\n  padding-bottom: 0.1em;\r\n  /* padding-top: 1em; */\r\n  position: absolute;\r\n  width: 100%;\r\n  border-radius: 15px;\r\n  box-shadow: 0px 0px 5px;\r\n}\r\n\r\n.message img {\r\n  max-width: 100%;\r\n  max-height: 120px;\r\n}\r\n\r\n.message .mention-highlight {\r\n  position: absolute;\r\n  left: 0px;\r\n  width: 0px;\r\n  margin: 0px;\r\n}\r\n\r\n.message.mention .mention-highlight {\r\n  border-left: 5px solid rgb(255, 204, 0);\r\n}\r\n\r\n.message-details {\r\n  position: absolute;\r\n  display: flex;\r\n  top: 0px;\r\n  right: 0px;\r\n  font-size: 0.75rem;\r\n  padding: 5px;\r\n}\r\n.message-details svg {\r\n  width: 75%;\r\n  height: 75%;\r\n}\r\n\r\n.message-timestamp {\r\n  /* width: 100%; */\r\n  opacity: 0.7;\r\n  font-size: 0.7em;\r\n}\r\n\r\n.message-details > * {\r\n  vertical-align: middle;\r\n}\r\n\r\n.message button {\r\n  width: 15px;\r\n  height: 15px;\r\n  padding: 0;\r\n  font-size: 10px;\r\n  background: none;\r\n  color: black;\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.message button:hover {\r\n  background: red;\r\n  color: white;\r\n}\r\n\r\n.sent {\r\n  /* flex-direction: row-reverse; */\r\n}\r\n\r\n.sent p {\r\n  /* align-self: flex-end; */\r\n}\r\n\r\n.received p {\r\n}\r\n\r\n/* NOTE: Specificity required for priority */\r\n.chat-app .avatar {\r\n  height: 40px;\r\n  width: 40px;\r\n  /* NOTE: Required, for some reason */\r\n  min-height: 40px;\r\n  min-width: 40px;\r\n  margin-top: 5px;\r\n  margin-bottom: 5px;\r\n  border: 1px solid gray;\r\n  vertical-align: middle;\r\n}\r\n\r\n.is-dragged-on > * {\r\n  pointer-events: none;\r\n}\r\n\r\n.file-drag-overlay {\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  top: 0px;\r\n  bottom: 0px;\r\n  right: 0px;\r\n  left: 0px;\r\n  pointer-events: initial;\r\n  font-size: 5em;\r\n}\r\n\r\n.file-drag-overlay * {\r\n  pointer-events: none;\r\n}\r\n\r\n.file-drag-overlay.loading::after {\r\n  position: initial;\r\n  margin: 0px;\r\n}\r\n\r\n.file-drag-overlay > div {\r\n  position: absolute;\r\n  top: 0px;\r\n  bottom: 0px;\r\n  right: 0px;\r\n  left: 0px;\r\n  background: rgba(0, 0, 0, 0.356);\r\n  background: rgba(0, 0, 0, 0.356);\r\n  border-radius: 0.1em;\r\n  border: 2px dashed black;\r\n  margin: 0.2em;\r\n}\r\n'],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={"chat-section":"chat-room-module__chat-section__LdYDv","chat-app":"chat-room-module__chat-app__NBrED",link:"chat-room-module__link__gfWpT",outlined:"chat-room-module__outlined__Zud17",bold:"chat-room-module__bold__krr7t",hidden:"chat-room-module__hidden__sWNQ9",badge:"chat-room-module__badge__S7UAC","loading-placeholder":"chat-room-module__loading-placeholder__i44N9",loading:"chat-room-module__loading__MWpVp",disabled:"chat-room-module__disabled___xJpJ",disable:"chat-room-module__disable__ycdft",errors:"chat-room-module__errors__UQ6og","error-highlight":"chat-room-module__error-highlight__IJrxU",tooltip:"chat-room-module__tooltip__oKmZi","info-tooltip":"chat-room-module__info-tooltip__peJby",yellow:"chat-room-module__yellow__mmwLa","number-badge":"chat-room-module__number-badge__TPXL6",slider:"chat-room-module__slider__tFcww",error:"chat-room-module__error__IeUW8","messages-section":"chat-room-module__messages-section__YS5YK","pagination-controls":"chat-room-module__pagination-controls__zrfGL","alt-button":"chat-room-module__alt-button__niT8E",menu:"chat-room-module__menu__hPh7u",button:"chat-room-module__button__xXY30",pointer:"chat-room-module__pointer__G4Scn","chat-controls":"chat-room-module__chat-controls__ifFFC","chat-bubble-icon":"chat-room-module__chat-bubble-icon__Dfqco","gavel-icon":"chat-room-module__gavel-icon__kj4gX",dialog:"chat-room-module__dialog__Jr9Ri","confirm-modal":"chat-room-module__confirm-modal__JqA0Q","premium-dialog":"chat-room-module__premium-dialog__VFlBX","error-dialog":"chat-room-module__error-dialog__ajcmQ","profile-editor":"chat-room-module__profile-editor__CFJrI","unread-conversation":"chat-room-module__unread-conversation__wNKJL",moderators:"chat-room-module__moderators__S6WIn","mod-action-log":"chat-room-module__mod-action-log__KE8w1","message-style-editor":"chat-room-module__message-style-editor___lXsg","chat-room-overlay":"chat-room-module__chat-room-overlay__j2CjY","overlay-message":"chat-room-module__overlay-message__GWk9p","message-form":"chat-room-module__message-form__wxbHo","camera-icon":"chat-room-module__camera-icon__rHrJO","format-controls":"chat-room-module__format-controls__kyHgT","down-arrow":"chat-room-module__down-arrow__WN9rf","font-color":"chat-room-module__font-color__vz8XY","input-wrapper":"chat-room-module__input-wrapper__PifqW","error-flash":"chat-room-module__error-flash__TFkCr","login-form":"chat-room-module__login-form__r1uGy",message:"chat-room-module__message__QU1qe","stick-to-bottom":"chat-room-module__stick-to-bottom__Zxg9K","message-background-image":"chat-room-module__message-background-image__ROO8E","sample-message-wrapper":"chat-room-module__sample-message-wrapper__DETha","message-username":"chat-room-module__message-username__ZtOBm","message-contents":"chat-room-module__message-contents__GIugi",mention:"chat-room-module__mention__xQPdg",expanded:"chat-room-module__expanded__Rv3Sy","show-more":"chat-room-module__show-more__t65av","show-less":"chat-room-module__show-less__ylXZb","mention-highlight":"chat-room-module__mention-highlight__tYrBF","message-details":"chat-room-module__message-details__M1xyM","message-timestamp":"chat-room-module__message-timestamp__pyF_5",sent:"chat-room-module__sent__rQf84",received:"chat-room-module__received__L0jzT",avatar:"chat-room-module__avatar__H3F8T","is-dragged-on":"chat-room-module__is-dragged-on__ut5JV","file-drag-overlay":"chat-room-module__file-drag-overlay__bQ8mx",rotation:"chat-room-module__rotation__ExsHv"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./src/css/emoji-selector.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".emoji-selector-module__emoji-selector__iq9xQ section {\n  display: flex;\n  flex-wrap: wrap;\n  max-height: 150px;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  justify-content: space-around;\n}\n.emoji-selector-module__emoji-selector__iq9xQ section > * {\n  cursor: pointer;\n  padding: 5px;\n  font-size: 1.3em;\n}\n.emoji-selector-module__emoji-selector__iq9xQ input {\n  width: 100%;\n  padding: 5px;\n  cursor: initial;\n  font-size: initial;\n}\n.emoji-selector-module__emoji-selector__iq9xQ section.emoji-selector-module__preview__jXMhX {\n  color: grey;\n  filter: grayscale(100%);\n}\n.emoji-selector-module__emoji-selector__iq9xQ footer {\n  text-align: center;\n}/*# sourceMappingURL=emoji-selector.module.css.map */","",{version:3,sources:["webpack://./src/css/emoji-selector.module.scss","webpack://./src/css/emoji-selector.module.css"],names:[],mappings:"AACE;EACE,aAAA;EACA,eAAA;EACA,iBAAA;EACA,kBAAA;EACA,kBAAA;EACA,6BAAA;ACAJ;ADGE;EACE,eAAA;EACA,YAAA;EACA,gBAAA;ACDJ;ADIE;EACE,WAAA;EACA,YAAA;EACA,eAAA;EACA,kBAAA;ACFJ;ADKE;EACE,WAAA;EAEA,uBAAA;ACHJ;ADME;EACE,kBAAA;ACJJ,CAAA,oDAAA",sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={"emoji-selector":"emoji-selector-module__emoji-selector__iq9xQ",preview:"emoji-selector-module__preview__jXMhX"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./src/css/pagination-controls.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".pagination-controls-module__pagination-controls__B__P7 {\r\n  display: block;\r\n}\r\n\r\n.pagination-controls-module__pagination-controls__B__P7 ul {\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 0;\r\n}\r\n\r\n.pagination-controls-module__selected__JXiUS a {\r\n  font-weight: bold;\r\n  text-decoration: none;\r\n}\r\n\r\n.pagination-controls-module__disabled__N1AuS a {\r\n  color: #ccc;\r\n  cursor: default;\r\n  text-decoration: none;\r\n}","",{version:3,sources:["webpack://./src/css/pagination-controls.module.css"],names:[],mappings:"AAAA;EACE,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,UAAU;AACZ;;AAEA;EACE,iBAAiB;EACjB,qBAAqB;AACvB;;AAEA;EACE,WAAW;EACX,eAAe;EACf,qBAAqB;AACvB",sourcesContent:[".pagination-controls {\r\n  display: block;\r\n}\r\n\r\n.pagination-controls ul {\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 0;\r\n}\r\n\r\n.selected a {\r\n  font-weight: bold;\r\n  text-decoration: none;\r\n}\r\n\r\n.disabled a {\r\n  color: #ccc;\r\n  cursor: default;\r\n  text-decoration: none;\r\n}"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={"pagination-controls":"pagination-controls-module__pagination-controls__B__P7",selected:"pagination-controls-module__selected__JXiUS",disabled:"pagination-controls-module__disabled__N1AuS"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./src/css/comic-sans-ms-bold-italic.ttf":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"static/media/comic-sans-ms-bold-italic.39357511.ttf"},"./src/css/comic-sans-ms-bold.ttf":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"static/media/comic-sans-ms-bold.92557e6e.ttf"},"./src/css/comic-sans-ms-italic.ttf":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"static/media/comic-sans-ms-italic.9b89f236.ttf"},"./src/css/comic-sans-ms.ttf":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"static/media/comic-sans-ms.3198d266.ttf"},"./src/css/loading-spinner.svg":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"static/media/loading-spinner.d7838e06.svg"}}]);